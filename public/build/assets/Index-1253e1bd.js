import{q as f,l as _,k as h,o as w,f as v,a as r,u as n,w as k,F as V,Z as j,b as t,t as D,e as S,i as p,x,d as b,O as A}from"./app-d8addb62.js";import{_ as O}from"./AuthenticatedLayout-3ec56e36.js";import{B as T}from"./Breadcrumb-38397fa2.js";import{_ as U}from"./Alert-0f2bdacd.js";import{_ as i}from"./Combobox-59b2c747.js";import{r as C}from"./MagnifyingGlassIcon-e09d58a1.js";import{r as N}from"./ArrowPathIcon-d6d8921b.js";import"./_commonjsHelpers-de833af9.js";import"./transition-d6b1d06f.js";import"./use-outside-click-e0d988a6.js";import"./hidden-68b779fe.js";import"./menu-9433506f.js";import"./use-text-value-78c7b3f7.js";import"./ShoppingBagIcon-2330124a.js";import"./XMarkIcon-242f9d72.js";import"./ChevronDownIcon-5b7a3277.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./XMarkIcon-a55f7771.js";import"./use-controllable-fafe7119.js";import"./ChevronUpDownIcon-5c740879.js";const B={class:"bg-white shadow"},M={class:"px-4 sm:px-6 lg:max-w-6xl lg:mx-auto lg:px-8"},E={class:"py-6 md:flex md:items-center md:justify-between lg:border-t lg:border-gray-200"},F={class:"flex-1 min-w-0"},W=t("div",{class:"mt-6 h-9 flex space-x-3 md:mt-0 md:ml-4"},null,-1),q={class:"py-5"},G={class:"max-w-6xl mx-auto sm:px-6 lg:px-8"},I={class:"bg-white shadow sm:rounded-lg"},L={class:"flex flex-col sm:flex-row sm:justify-between items-center px-4 py-5 border-b border-gray-200 sm:px-8"},P={class:"flex-1"},R=t("h3",{class:"text-base font-semibold leading-6 text-gray-900"},"Orders",-1),Z={class:"mt-1 text-sm text-gray-500"},z=t("div",{class:"flex-shrink-0 flex space-x-3"},null,-1),H=["onSubmit"],J={class:"px-5 py-5 mx-auto max-w-5xl"},K={class:"py-2 sm:grid sm:grid-cols-8 sm:gap-4"},Q={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},X=t("label",{class:"block text-sm font-medium text-gray-700"},"Manager",-1),Y={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},tt=t("label",{class:"block text-sm font-medium text-gray-700"},"Waiter",-1),et={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},st=t("label",{class:"block text-sm font-medium text-gray-700"},"Customer",-1),at={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},rt=t("label",{class:"block text-sm font-medium text-gray-700"},"Start Date",-1),ot={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},dt=t("label",{class:"block text-sm font-medium text-gray-700"},"End Date",-1),lt={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},it=t("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1),nt={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},mt=t("label",{class:"block text-sm font-medium text-gray-700"},"Action",-1),ct={class:"inline-flex mt-1 rounded",role:"group"},pt={type:"submit",class:"inline-flex items-center px-4 py-2 border border-transparent rounded-l shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-600"},xt=["data-url"],bt=t("thead",null,[t("tr",null,[t("th",{class:"w-3 px-5 py-2 border-b bg-gray-100 text-xs font-bold uppercase tracking-wider text-left"},"S.N."),t("th",{class:"w-10 px-5 py-2 border-b bg-gray-100 text-xs font-bold uppercase tracking-wider text-left"},"Date"),t("th",{class:"w-10 px-5 py-2 border-b bg-gray-100 text-xs font-bold uppercase tracking-wider text-left"},"Waiter"),t("th",{class:"w-12 px-5 py-2 border-b bg-gray-100 text-xs font-bold uppercase tracking-wider text-left"},"Number"),t("th",{class:"w-12 px-5 py-2 border-b bg-gray-100 text-xs font-bold uppercase tracking-wider text-left"},"Des"),t("th",{class:"w-12 px-5 py-2 border-b bg-gray-100 text-xs font-bold uppercase tracking-wider text-right"},"Discount"),t("th",{class:"w-12 px-5 py-2 border-b bg-gray-100 text-xs font-bold uppercase tracking-wider text-right"},"Type"),t("th",{class:"w-8 px-5 py-2 border-b bg-gray-100 text-xs font-bold uppercase tracking-wider text-right"},"VAT"),t("th",{class:"w-8 px-5 py-2 border-b bg-gray-100 text-xs font-bold uppercase tracking-wider text-right"},"Total"),t("th",{class:"w-20 px-5 py-2 border-b bg-gray-100 text-xs font-bold uppercase tracking-wider text-right"},"Action")])],-1),ut=t("tbody",{class:"bg-white"},null,-1),gt=[bt,ut],Et={__name:"Index",props:{filter:Object,managers:Array,waiters:Array,customers:Array,statuses:Array,payment_methods:Array},setup(d){const l=d,e=f(l.filter),u=[{name:"Orders",href:route("order.index"),current:!1},{name:"List Page",href:"#",current:!1}];_(()=>{console.log("updated"),m()}),h(()=>{console.log("mounted"),m()});const m=()=>{$("#ajax_table").DataTable({responsive:!0,serverSide:!0,processing:!0,destroy:!0,lengthMenu:[[10,25,50,100,200],[10,25,50,100,200]],length:10,dom:"<'flex flex-col sm:flex-row justify-between'lf><'block overflow-auto 'rt><'flex flex-col sm:flex-row justify-between items-center'ip>",ajax:{url:$("#ajax_table").data("url"),type:"GET",data:e},createdRow:function(o,s){s.is_complete?$(o).addClass("text-gray-700"):$(o).addClass("text-red-700")},order:[[1,"desc"]],columns:[{data:"SrNo",class:"px-2 sm:px-4 py-1 sm:py-2 whitespace-wrap border-b border-gray-200 text-sm leading-5 sorting_1",render:function(o,s,a,c){return c.row+c.settings._iDisplayStart+1}},{class:"px-2 sm:px-4 py-1 sm:py-2 whitespace-wrap border-b border-gray-200 text-sm leading-5",data:"datetime_format"},{class:"px-2 sm:px-4 py-1 sm:py-2 whitespace-wrap border-b border-gray-200 text-sm leading-5",data:"waiter_name"},{class:"px-2 sm:px-4 py-1 sm:py-2 whitespace-wrap border-b border-gray-200 text-sm leading-5",data:"branch_invoice"},{class:"px-2 sm:px-4 py-1 sm:py-2 whitespace-wrap border-b border-gray-200 text-sm leading-5",data:"detail",sortable:!1},{class:"px-2 sm:px-4 py-1 sm:py-2 whitespace-nowrap border-b border-gray-200 text-sm leading-5",data:"discount_amount"},{class:"px-2 sm:px-4 py-1 sm:py-2 whitespace-nowrap border-b border-gray-200 text-sm leading-5",data:"discount_type"},{class:"px-2 sm:px-4 py-1 sm:py-2 whitespace-nowrap border-b border-gray-200 text-sm leading-5",data:"vat_amount"},{class:"px-2 sm:px-4 py-1 sm:py-2 whitespace-nowrap border-b border-gray-200 text-sm leading-5",data:"total"},{class:"px-2 sm:px-4 py-1 sm:py-2 whitespace-wrap border-b border-gray-200 text-sm leading-5",data:"action",sortable:!1}]})},g=()=>{for(const[o,s]of Object.entries(e))e[o]=""},y=()=>{A.visit(route("order.index"),{data:e})};return(o,s)=>(w(),v(V,null,[r(n(j),{title:"Orders"}),r(O,null,{default:k(()=>[t("div",null,[t("div",B,[t("div",M,[t("div",E,[t("div",F,[r(T,{breadcrumbs:u})]),W])])]),t("div",q,[t("div",G,[t("div",I,[t("div",L,[t("div",P,[R,t("p",Z,D((l.filter.start_date?l.filter.start_date.split("-").reverse().join("/"):"")+" - "+(l.filter.end_date?l.filter.end_date.split("-").reverse().join("/"):"")),1)]),z]),r(U),t("form",{onSubmit:S(y,["prevent"])},[t("dl",J,[t("div",K,[t("dd",Q,[X,r(i,{class:"mt-1",modelValue:e.manager_id,"onUpdate:modelValue":s[0]||(s[0]=a=>e.manager_id=a),items:d.managers},null,8,["modelValue","items"])]),t("dd",Y,[tt,r(i,{class:"mt-1",modelValue:e.waiter_id,"onUpdate:modelValue":s[1]||(s[1]=a=>e.waiter_id=a),items:d.waiters},null,8,["modelValue","items"])]),t("dd",et,[st,r(i,{class:"mt-1",modelValue:e.customer_id,"onUpdate:modelValue":s[2]||(s[2]=a=>e.customer_id=a),items:d.customers},null,8,["modelValue","items"])]),t("dd",at,[rt,p(t("input",{"onUpdate:modelValue":s[3]||(s[3]=a=>e.start_date=a),type:"date",class:"mt-1 block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded"},null,512),[[x,e.start_date]])]),t("dd",ot,[dt,p(t("input",{"onUpdate:modelValue":s[4]||(s[4]=a=>e.end_date=a),type:"date",class:"mt-1 block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded"},null,512),[[x,e.end_date]])]),t("dd",lt,[it,r(i,{class:"mt-1",modelValue:e.status,"onUpdate:modelValue":s[5]||(s[5]=a=>e.status=a),items:d.statuses},null,8,["modelValue","items"])]),t("dd",nt,[mt,t("div",ct,[t("button",pt,[r(n(C),{class:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),b(" Search ")]),t("button",{onClick:g,class:"inline-flex items-center px-4 py-1 border border-primary-600 rounded-r shadow-sm text-sm font-medium text-primary-700 bg-white hover:bg-primary-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-600"},[r(n(N),{class:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),b(" Clear ")])])])])])],40,H),t("table",{class:"table-auto sm:table-fixed min-w-full w-full",id:"ajax_table","data-url":o.route("order.load")},gt,8,xt)])])])])]),_:1})],64))}};export{Et as default};
