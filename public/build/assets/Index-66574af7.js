import{q as v,l as k,k as j,o as n,f as c,a as r,u as l,w as u,F as V,Z as S,b as e,j as A,d as m,t as C,e as D,i as b,x as g,g as f,O as B}from"./app-d8addb62.js";import{_ as E}from"./AuthenticatedLayout-3ec56e36.js";import{B as N}from"./Breadcrumb-38397fa2.js";import{_ as U}from"./Alert-0f2bdacd.js";import{_ as y}from"./Combobox-59b2c747.js";import{r as M}from"./PlusIcon-55e56ee8.js";import{r as O}from"./MagnifyingGlassIcon-e09d58a1.js";import{r as T}from"./ArrowPathIcon-d6d8921b.js";import"./_commonjsHelpers-de833af9.js";import"./transition-d6b1d06f.js";import"./use-outside-click-e0d988a6.js";import"./hidden-68b779fe.js";import"./menu-9433506f.js";import"./use-text-value-78c7b3f7.js";import"./ShoppingBagIcon-2330124a.js";import"./XMarkIcon-242f9d72.js";import"./ChevronDownIcon-5b7a3277.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./XMarkIcon-a55f7771.js";import"./use-controllable-fafe7119.js";import"./ChevronUpDownIcon-5c740879.js";const F={class:"bg-white shadow"},q={class:"px-4 sm:px-6 lg:max-w-6xl lg:mx-auto lg:px-8"},G={class:"py-6 md:flex md:items-center md:justify-between lg:border-t lg:border-gray-200"},I={class:"flex-1 min-w-0"},L={class:"mt-6 h-9 flex space-x-3 md:mt-0 md:ml-4"},P={class:"py-5"},Z={class:"max-w-6xl mx-auto sm:px-6 lg:px-8"},z={class:"bg-white shadow sm:rounded-lg"},H={class:"flex flex-col sm:flex-row sm:justify-between items-center px-4 py-5 border-b border-gray-200 sm:px-8"},J={class:"flex-1"},K=e("h3",{class:"text-base font-semibold leading-6 text-gray-900"},"Expenses",-1),Q={class:"mt-1 text-sm text-gray-500"},R=e("div",{class:"flex-shrink-0 flex space-x-3"},null,-1),W=["onSubmit"],X={class:"px-5 py-5 mx-auto max-w-5xl"},Y={class:"py-2 sm:grid sm:grid-cols-8 sm:gap-4"},ee={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},te=e("label",{class:"block text-sm font-medium text-gray-700"},"Account",-1),se={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},re=e("label",{class:"block text-sm font-medium text-gray-700"},"Category",-1),ae={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},oe=e("label",{class:"block text-sm font-medium text-gray-700"},"Start Date",-1),de={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},le=e("label",{class:"block text-sm font-medium text-gray-700"},"End Date",-1),ie={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},ne=e("label",{class:"block text-sm font-medium text-gray-700"},"Action",-1),ce={class:"inline-flex mt-1 rounded",role:"group"},me={type:"submit",class:"inline-flex items-center px-4 py-2 border border-transparent rounded-l shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-600"},pe=["data-url"],xe=e("thead",null,[e("tr",null,[e("th",{class:"w-12 px-5 py-2 border-b bg-gray-100 text-xs font-bold uppercase tracking-wider text-center"},"S.N."),e("th",{class:"w-20 px-5 py-2 border-b bg-gray-100 text-xs font-bold uppercase tracking-wider text-left"},"Date"),e("th",{class:"px-5 py-2 border-b bg-gray-100 text-xs font-bold uppercase tracking-wider text-left"},"Branch"),e("th",{class:"px-5 py-2 border-b bg-gray-100 text-xs font-bold uppercase tracking-wider text-left"},"Account"),e("th",{class:"px-5 py-2 border-b bg-gray-100 text-xs font-bold uppercase tracking-wider text-left"},"Category"),e("th",{class:"w-24 px-5 py-2 border-b bg-gray-100 text-xs font-bold uppercase tracking-wider text-right"},"Amount"),e("th",{class:"w-20 px-5 py-2 border-b bg-gray-100 text-xs font-bold uppercase tracking-wider text-right"},"CreatedÂ At"),e("th",{class:"w-12 px-5 py-2 border-b bg-gray-100 text-xs font-bold uppercase tracking-wider text-center"},"Status"),e("th",{class:"w-20 px-5 py-2 border-b bg-gray-100 text-xs font-bold uppercase tracking-wider text-right"},"Action")])],-1),ue=e("tbody",{class:"bg-white"},null,-1),be=[xe,ue],Te={__name:"Index",props:{filter:Object,accounts:Array,categories:Array,expense_load:Boolean},setup(i){const o=i,t=v(o.filter),_=[{name:"Expenses",href:route("expense.index"),current:!1},{name:"List Page",href:"#",current:!1}];k(()=>{console.log("updated"),p()}),j(()=>{console.log("mounted"),p()});const p=()=>{$("#ajax_table").DataTable({responsive:!0,serverSide:!0,processing:!0,destroy:!0,lengthMenu:[[10,25,50,100,200],[10,25,50,100,200]],length:10,dom:"<'flex flex-col sm:flex-row justify-between'lf><'block overflow-auto 'rt><'flex flex-col sm:flex-row justify-between items-center'ip>",ajax:{url:$("#ajax_table").data("url"),type:"GET",data:t},order:[[1,"desc"]],columns:[{data:"SrNo",class:"px-2 py-1 sm:py-2 whitespace-wrap border-b border-gray-200 text-sm leading-5 sorting_1",render:function(d,s,a,x){return x.row+x.settings._iDisplayStart+1}},{class:"px-2 py-1 sm:py-2 whitespace-wrap border-b border-gray-200 text-sm leading-5",data:"datetime_format"},{class:"px-2 py-1 sm:py-2 whitespace-wrap border-b border-gray-200 text-sm leading-5",data:"branch_name"},{class:"px-2 py-1 sm:py-2 whitespace-wrap border-b border-gray-200 text-sm leading-5",data:"account_name"},{class:"px-2 py-1 sm:py-2 whitespace-wrap border-b border-gray-200 text-sm leading-5",data:"category_name"},{class:"px-2 py-1 sm:py-2 whitespace-nowrap border-b border-gray-200 text-sm leading-5",data:"amount"},{class:"px-2 py-1 sm:py-2 whitespace-wrap border-b border-gray-200 text-sm leading-5",data:"created_at_format"},{class:"px-2 py-1 sm:py-2 whitespace-nowrap border-b border-gray-200 text-sm leading-5",data:"status"},{class:"px-2 py-1 sm:py-2 whitespace-wrap border-b border-gray-200 text-sm leading-5",data:"action",sortable:!1}]})},h=()=>{for(const[d,s]of Object.entries(t))t[d]=""},w=()=>{B.visit(route("expense.index"),{data:t})};return(d,s)=>(n(),c(V,null,[r(l(S),{title:"Expenses"}),r(E,null,{default:u(()=>[e("div",null,[e("div",F,[e("div",q,[e("div",G,[e("div",I,[r(N,{breadcrumbs:_})]),e("div",L,[r(l(A),{href:d.route("expense.create"),class:"inline-flex items-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white hover:bg-gray-50 text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-primary-400"},{default:u(()=>[r(l(M),{class:"-ml-1 mr-2 h-5 w-5 text-gray-400","aria-hidden":"true"}),m(" Create ")]),_:1},8,["href"])])])])]),e("div",P,[e("div",Z,[e("div",z,[e("div",H,[e("div",J,[K,e("p",Q,C((o.filter.start_date?o.filter.start_date.split("-").reverse().join("/"):"")+" - "+(o.filter.end_date?o.filter.end_date.split("-").reverse().join("/"):"")),1)]),R]),r(U),o.expense_load?(n(),c("form",{key:0,onSubmit:D(w,["prevent"])},[e("dl",X,[e("div",Y,[e("dd",ee,[te,r(y,{class:"mt-1",modelValue:t.account_id,"onUpdate:modelValue":s[0]||(s[0]=a=>t.account_id=a),items:i.accounts},null,8,["modelValue","items"])]),e("dd",se,[re,r(y,{class:"mt-1",modelValue:t.category_id,"onUpdate:modelValue":s[1]||(s[1]=a=>t.category_id=a),items:i.categories},null,8,["modelValue","items"])]),e("dd",ae,[oe,b(e("input",{"onUpdate:modelValue":s[2]||(s[2]=a=>t.start_date=a),type:"date",class:"mt-1 block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded"},null,512),[[g,t.start_date]])]),e("dd",de,[le,b(e("input",{"onUpdate:modelValue":s[3]||(s[3]=a=>t.end_date=a),type:"date",class:"mt-1 block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded"},null,512),[[g,t.end_date]])]),e("dd",ie,[ne,e("div",ce,[e("button",me,[r(l(O),{class:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),m(" Search ")]),e("button",{onClick:h,class:"inline-flex items-center px-4 py-1 border border-primary-600 rounded-r shadow-sm text-sm font-medium text-primary-700 bg-white hover:bg-primary-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-600"},[r(l(T),{class:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),m(" Clear ")])])])])])],40,W)):f("",!0),o.expense_load?(n(),c("table",{key:1,class:"table-auto sm:table-fixed min-w-full w-full",id:"ajax_table","data-url":d.route("expense.load")},be,8,pe)):f("",!0)])])])])]),_:1})],64))}};export{Te as default};
