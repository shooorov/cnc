import{K as k,T as E,o,f as d,a as l,u as r,w as g,F as p,Z as j,b as e,j as _,d as w,e as C,r as f,t as u,n as D,i as B,v as N}from"./app-5791f070.js";import{_ as V}from"./AuthenticatedLayout-11ec7f50.js";import{B as $}from"./Breadcrumb-f795d3d4.js";import{_ as F}from"./Notification-26554410.js";import{r as M}from"./PlusIcon-b4b926cb.js";import"./_commonjsHelpers-de833af9.js";import"./transition-10ffcd92.js";import"./use-outside-click-94eb500d.js";import"./hidden-5e2b8745.js";import"./menu-f75a36ce.js";import"./use-text-value-334f6123.js";import"./ShoppingBagIcon-426b9f89.js";import"./XMarkIcon-1029282c.js";import"./ChevronDownIcon-fde980d0.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./XMarkIcon-a268bf7e.js";const S={class:"bg-white shadow"},U={class:"px-4 sm:px-6 lg:max-w-6xl lg:mx-auto lg:px-8"},T={class:"py-6 md:flex md:items-center md:justify-between lg:border-t lg:border-gray-200"},z={class:"flex-1 min-w-0"},A={class:"mt-6 h-9 flex space-x-3 md:mt-0 md:ml-4"},I={class:"py-5"},K={class:"max-w-6xl mx-auto sm:px-6 lg:px-8"},L={class:"bg-white shadow sm:rounded-lg"},O=e("div",{class:"flex flex-col sm:flex-row sm:justify-between items-center px-4 py-5 border-b border-gray-200 sm:px-8"},[e("p",{class:"max-w-2xl leading-10 text-gray-700 text-lg font-medium mb-4 sm:mb-0"},"Email Digest"),e("div",{class:"flex-shrink-0 flex space-x-3"})],-1),P={class:"space-y-8 py-6 px-6"},Z={class:"table-auto sm:table-fixed min-w-full w-full"},q=e("th",{class:"w-12 px-5 py-2 border-b bg-gray-100 text-xs font-bold uppercase tracking-wider text-center"}," S.N.",-1),G=e("th",{class:"border-b bg-gray-100 text-xs font-bold uppercase tracking-wider text-left"}," Name",-1),H={class:"bg-white"},J={class:"px-3 py-1 whitespace-wrap break-words"},Q={class:"text-sm leading-5 text-gray-700 text-center"},R={class:"px-3 py-1 whitespace-wrap break-words"},W={class:"text-sm leading-5 text-gray-700 text-left"},X=["id","onChange","onUpdate:modelValue"],Y=e("div",{class:"relative"},[e("div",{class:"absolute inset-0 flex items-center","aria-hidden":"true"},[e("div",{class:"w-full border-t border-gray-300"})]),e("div",{class:"relative flex justify-center ml-4"},[e("span",{class:"px-3 bg-white text-lg font-medium text-gray-900"})])],-1),ee=e("div",{class:"mx-auto"},[e("div",{class:"flex justify-end"})],-1),he={__name:"EmailDigest",props:{users:Array,digest:Object},setup(x){const c=x,m=k(),i=E({digest:c.digest,user_id:null,branch_id:null});c.users.forEach(s=>{i.digest[s.id]=[],m.props.branches.forEach(a=>{i.digest[s.id][a.id]=c.digest[s.id]?c.digest[s.id][a.id]:!1})});function y(s,a){i.user_id=s,i.branch_id=a,m.props.alertMessage={},i.post(route("user.digest.update"),{onFinish:()=>{}})}const v=[{name:"Users",href:route("user.index"),current:!1},{name:"Email Digest Page",href:"#",current:!1}];return(s,a)=>(o(),d(p,null,[l(r(j),{title:"Email Digest"}),l(V,null,{default:g(()=>[e("div",S,[e("div",U,[e("div",T,[e("div",z,[l($,{breadcrumbs:v})]),e("div",A,[l(r(_),{href:s.route("user.create"),class:"inline-flex items-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white hover:bg-gray-50 text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-primary-400"},{default:g(()=>[l(r(M),{class:"-ml-1 mr-2 h-5 w-5 text-gray-400","aria-hidden":"true"}),w(" Create ")]),_:1},8,["href"])])])])]),e("div",I,[e("div",K,[e("div",L,[O,l(F),e("form",{onSubmit:a[0]||(a[0]=C((...t)=>s.submit&&s.submit(...t),["prevent"]))},[e("dl",P,[e("table",Z,[e("thead",null,[e("tr",null,[q,G,(o(!0),d(p,null,f(r(m).props.branches,t=>(o(),d("th",{key:t.id,class:"w-32 px-5 py-2 border-b bg-gray-100 text-xs font-bold uppercase tracking-wider text-center"},u(t.name),1))),128))])]),e("tbody",H,[(o(!0),d(p,null,f(x.users,(t,h)=>(o(),d("tr",{key:t.id,class:D([h%2==0?"bg-white":"bg-gray-50","border-b"])},[e("td",J,[e("div",Q,u(parseInt(h)+1),1)]),e("td",R,[l(r(_),{href:s.route("user.edit",t.id),class:"text-sm leading-5 text-blue-600 hover:underline"},{default:g(()=>[w(u(t.name),1)]),_:2},1032,["href"]),e("div",W,u(t.email),1)]),(o(!0),d(p,null,f(r(m).props.branches,n=>(o(),d("td",{key:n.id,class:"p-2 whitespace-nowrap text-center"},[B(e("input",{type:"checkbox",id:`access_${t.id}_${n.id}`,onChange:b=>y(t.id,n.id),"onUpdate:modelValue":b=>r(i).digest[t.id][n.id]=b,class:"form-checkbox w-5 h-5 border-gray-300 text-indigo-500 cursor-pointer focus:ring-indigo-500 rounded"},null,40,X),[[N,r(i).digest[t.id][n.id]]])]))),128))],2))),128))])]),Y,ee])],32)])])])]),_:1})],64))}};export{he as default};
