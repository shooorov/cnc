import{o as F,f as $,b as B,G as O,H as k,A as M,h as S,L,k as j,I as _,M as K,Q as R}from"./app-43394236.js";import{m as H,y as U,g as V,h as Q,o as b,e as W,u as q,l as x,H as w,t as T,p as z,a as D,b as d,v as G,N as E,_ as N,O as J}from"./use-outside-click-e0c0d3b1.js";import{b as Y,p as Z,u as X,x as ee,a as h}from"./use-text-value-ed13f69d.js";function se(a,v){return F(),$("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[B("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})])}function te({container:a,accept:v,walk:I,enabled:p}){O(()=>{let e=a.value;if(!e||p!==void 0&&!p.value)return;let c=H(a);if(!c)return;let s=Object.assign(i=>v(i),{acceptNode:v}),f=c.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,s,!1);for(;f.nextNode();)I(f.currentNode)})}var ae=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(ae||{}),ne=(a=>(a[a.Pointer=0]="Pointer",a[a.Other=1]="Other",a))(ne||{});function le(a){requestAnimationFrame(()=>requestAnimationFrame(a))}let A=Symbol("MenuContext");function P(a){let v=K(A,null);if(v===null){let I=new Error(`<${a} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(I,P),I}return v}let ie=k({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(a,{slots:v,attrs:I}){let p=M(1),e=M(null),c=M(null),s=M([]),f=M(""),i=M(null),o=M(1);function t(l=u=>u){let u=i.value!==null?s.value[i.value]:null,r=J(l(s.value.slice()),g=>b(g.dataRef.domRef)),n=u?r.indexOf(u):null;return n===-1&&(n=null),{items:r,activeItemIndex:n}}let m={menuState:p,buttonRef:e,itemsRef:c,items:s,searchQuery:f,activeItemIndex:i,activationTrigger:o,closeMenu:()=>{p.value=1,i.value=null},openMenu:()=>p.value=0,goToItem(l,u,r){let n=t(),g=ee(l===h.Specific?{focus:h.Specific,id:u}:{focus:l},{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:y=>y.id,resolveDisabled:y=>y.dataRef.disabled});f.value="",i.value=g,o.value=r??1,s.value=n.items},search(l){let u=f.value!==""?0:1;f.value+=l.toLowerCase();let r=(i.value!==null?s.value.slice(i.value+u).concat(s.value.slice(0,i.value+u)):s.value).find(g=>g.dataRef.textValue.startsWith(f.value)&&!g.dataRef.disabled),n=r?s.value.indexOf(r):-1;n===-1||n===i.value||(i.value=n,o.value=1)},clearSearch(){f.value=""},registerItem(l,u){let r=t(n=>[...n,{id:l,dataRef:u}]);s.value=r.items,i.value=r.activeItemIndex,o.value=1},unregisterItem(l){let u=t(r=>{let n=r.findIndex(g=>g.id===l);return n!==-1&&r.splice(n,1),r});s.value=u.items,i.value=u.activeItemIndex,o.value=1}};return U([e,c],(l,u)=>{var r;m.closeMenu(),V(u,Q.Loose)||(l.preventDefault(),(r=b(e))==null||r.focus())},S(()=>p.value===0)),L(A,m),W(S(()=>q(p.value,{0:x.Open,1:x.Closed}))),()=>{let l={open:p.value===0,close:m.closeMenu};return w({ourProps:{},theirProps:a,slot:l,slots:v,attrs:I,name:"Menu"})}}}),ce=k({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-menu-button-${T()}`}},setup(a,{attrs:v,slots:I,expose:p}){let e=P("MenuButton");p({el:e.buttonRef,$el:e.buttonRef});function c(o){switch(o.key){case d.Space:case d.Enter:case d.ArrowDown:o.preventDefault(),o.stopPropagation(),e.openMenu(),R(()=>{var t;(t=b(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(h.First)});break;case d.ArrowUp:o.preventDefault(),o.stopPropagation(),e.openMenu(),R(()=>{var t;(t=b(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(h.Last)});break}}function s(o){switch(o.key){case d.Space:o.preventDefault();break}}function f(o){a.disabled||(e.menuState.value===0?(e.closeMenu(),R(()=>{var t;return(t=b(e.buttonRef))==null?void 0:t.focus({preventScroll:!0})})):(o.preventDefault(),e.openMenu(),le(()=>{var t;return(t=b(e.itemsRef))==null?void 0:t.focus({preventScroll:!0})})))}let i=Y(S(()=>({as:a.as,type:v.type})),e.buttonRef);return()=>{var o;let t={open:e.menuState.value===0},{id:m,...l}=a,u={ref:e.buttonRef,id:m,type:i.value,"aria-haspopup":"menu","aria-controls":(o=b(e.itemsRef))==null?void 0:o.id,"aria-expanded":e.menuState.value===0,onKeydown:c,onKeyup:s,onClick:f};return w({ourProps:u,theirProps:l,slot:t,attrs:v,slots:I,name:"MenuButton"})}}}),de=k({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-menu-items-${T()}`}},setup(a,{attrs:v,slots:I,expose:p}){let e=P("MenuItems"),c=M(null);p({el:e.itemsRef,$el:e.itemsRef}),te({container:S(()=>b(e.itemsRef)),enabled:S(()=>e.menuState.value===0),accept(t){return t.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute("role","none")}});function s(t){var m;switch(c.value&&clearTimeout(c.value),t.key){case d.Space:if(e.searchQuery.value!=="")return t.preventDefault(),t.stopPropagation(),e.search(t.key);case d.Enter:if(t.preventDefault(),t.stopPropagation(),e.activeItemIndex.value!==null){let l=e.items.value[e.activeItemIndex.value];(m=b(l.dataRef.domRef))==null||m.click()}e.closeMenu(),N(b(e.buttonRef));break;case d.ArrowDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(h.Next);case d.ArrowUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(h.Previous);case d.Home:case d.PageUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(h.First);case d.End:case d.PageDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(h.Last);case d.Escape:t.preventDefault(),t.stopPropagation(),e.closeMenu(),R(()=>{var l;return(l=b(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})});break;case d.Tab:t.preventDefault(),t.stopPropagation(),e.closeMenu(),R(()=>G(b(e.buttonRef),t.shiftKey?E.Previous:E.Next));break;default:t.key.length===1&&(e.search(t.key),c.value=setTimeout(()=>e.clearSearch(),350));break}}function f(t){switch(t.key){case d.Space:t.preventDefault();break}}let i=z(),o=S(()=>i!==null?(i.value&x.Open)===x.Open:e.menuState.value===0);return()=>{var t,m;let l={open:e.menuState.value===0},{id:u,...r}=a,n={"aria-activedescendant":e.activeItemIndex.value===null||(t=e.items.value[e.activeItemIndex.value])==null?void 0:t.id,"aria-labelledby":(m=b(e.buttonRef))==null?void 0:m.id,id:u,onKeydown:s,onKeyup:f,role:"menu",tabIndex:0,ref:e.itemsRef};return w({ourProps:n,theirProps:r,slot:l,attrs:v,slots:I,features:D.RenderStrategy|D.Static,visible:o.value,name:"MenuItems"})}}}),ve=k({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-menu-item-${T()}`}},setup(a,{slots:v,attrs:I,expose:p}){let e=P("MenuItem"),c=M(null);p({el:c,$el:c});let s=S(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===a.id:!1),f=Z(c),i=S(()=>({disabled:a.disabled,get textValue(){return f()},domRef:c}));j(()=>e.registerItem(a.id,i)),_(()=>e.unregisterItem(a.id)),O(()=>{e.menuState.value===0&&s.value&&e.activationTrigger.value!==0&&R(()=>{var n,g;return(g=(n=b(c))==null?void 0:n.scrollIntoView)==null?void 0:g.call(n,{block:"nearest"})})});function o(n){if(a.disabled)return n.preventDefault();e.closeMenu(),N(b(e.buttonRef))}function t(){if(a.disabled)return e.goToItem(h.Nothing);e.goToItem(h.Specific,a.id)}let m=X();function l(n){m.update(n)}function u(n){m.wasMoved(n)&&(a.disabled||s.value||e.goToItem(h.Specific,a.id,0))}function r(n){m.wasMoved(n)&&(a.disabled||s.value&&e.goToItem(h.Nothing))}return()=>{let{disabled:n}=a,g={active:s.value,disabled:n,close:e.closeMenu},{id:y,...C}=a;return w({ourProps:{id:y,ref:c,role:"menuitem",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,disabled:void 0,onClick:o,onFocus:t,onPointerenter:l,onMouseenter:l,onPointermove:u,onMousemove:u,onPointerleave:r,onMouseleave:r},theirProps:{...I,...C},slot:g,attrs:I,slots:v,name:"MenuItem"})}}});export{ie as M,ce as R,de as h,te as p,se as r,ve as y};
