import{o as s,f as o,b as t,K as z,h as M,k as C,l as j,a as h,u as l,w as b,F as p,Z as H,t as a,d as m,g as d,r as k,c as x,m as u,j as D,i as g,p as f}from"./app-43394236.js";import{_ as V}from"./AuthenticatedLayout-3db205f7.js";import{_ as A}from"./Alert-051e22f4.js";import{C as N,a as S}from"./charts-900f95ad.js";import"./_commonjsHelpers-de833af9.js";import"./transition-a46c0b1d.js";import"./use-outside-click-e0c0d3b1.js";import"./hidden-2febf338.js";import"./menu-d79329d0.js";import"./use-text-value-ed13f69d.js";import"./ShoppingBagIcon-d763d535.js";import"./XMarkIcon-ae32771d.js";import"./ChevronDownIcon-56a23db4.js";import"./XMarkIcon-bc558b0c.js";function B(i,r){return s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"})])}function T(i,r){return s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M4.5 2.25a.75.75 0 000 1.5v16.5h-.75a.75.75 0 000 1.5h16.5a.75.75 0 000-1.5h-.75V3.75a.75.75 0 000-1.5h-15zM9 6a.75.75 0 000 1.5h1.5a.75.75 0 000-1.5H9zm-.75 3.75A.75.75 0 019 9h1.5a.75.75 0 010 1.5H9a.75.75 0 01-.75-.75zM9 12a.75.75 0 000 1.5h1.5a.75.75 0 000-1.5H9zm3.75-5.25A.75.75 0 0113.5 6H15a.75.75 0 010 1.5h-1.5a.75.75 0 01-.75-.75zM13.5 9a.75.75 0 000 1.5H15A.75.75 0 0015 9h-1.5zm-.75 3.75a.75.75 0 01.75-.75H15a.75.75 0 010 1.5h-1.5a.75.75 0 01-.75-.75zM9 19.5v-2.25a.75.75 0 01.75-.75h4.5a.75.75 0 01.75.75v2.25a.75.75 0 01-.75.75h-4.5A.75.75 0 019 19.5z","clip-rule":"evenodd"})])}const F={class:"bg-white shadow"},$={class:"px-4 sm:px-6 lg:max-w-6xl lg:mx-auto lg:px-8"},L={class:"py-6 md:flex md:items-center md:justify-between lg:border-t lg:border-gray-200"},O={class:"flex-1 min-w-0"},Y={class:"flex items-center"},E=["src"],K={class:"md:w-2/3 flex flex-col justify-center"},P={class:"text-2xl font-bold text-gray-900 mt-4 md:mt-0 md:ml-4"},U={class:"mt-6 flex flex-col sm:ml-3 sm:mt-1 sm:flex-row sm:flex-wrap"},Z=t("dt",{class:"sr-only"},"Company",-1),q={class:"flex items-start text-sm text-gray-500 font-medium capitalize sm:mr-6"},G={class:"mt-6 flex flex-col sm:ml-3 sm:mt-1 sm:flex-row sm:flex-wrap"},I={key:0,class:"flex flex-col sm:mr-6"},J={class:"flex justify-between items-center"},Q={class:"flex items-center"},R={class:"flex justify-between"},W=t("span",{class:"text-sm text-gray-500 font-medium capitalize"},"Sales Target    ",-1),X={class:"text-sm text-gray-500 font-medium"},tt={class:"flex justify-between"},et=t("span",{class:"text-sm text-gray-500 font-medium capitalize"},"Current Sales    ",-1),st={class:"text-sm text-gray-500 font-medium"},at={key:0,class:"text-red-500 flex justify-between"},ot=t("span",{class:"text-sm font-medium capitalize"},"Deficit Balance   ",-1),lt={key:1,class:"text-green-500 flex justify-between"},it=t("span",{class:"text-sm font-medium capitalize"},"Achived   ",-1),nt={class:"mt-8"},rt={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},dt={class:"mt-8"},ct={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},ht={key:0,class:"text-lg leading-6 font-medium text-gray-900"},mt={class:"mt-2 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3"},_t={key:0,class:"row-span-3 bg-white overflow-hidden shadow rounded-lg"},xt=t("div",{class:"flex items-center gap-x-4 border-b border-gray-900/5 bg-gray-50 p-6"},[t("div",{class:"text-sm font-medium text-gray-600 truncate"},"Currently per head sales")],-1),ut={class:"-my-3 divide-y divide-gray-100 px-6 py-4 text-sm leading-6"},gt={class:"text-gray-500"},ft={class:"flex items-start gap-x-2"},pt={class:"font-medium text-gray-900"},yt={class:"text-primary-900 bg-primary-50 rounded-md py-1 px-2 text-xs font-medium"},vt={class:"p-5 flex-grow"},wt={class:"flex items-center"},bt={class:"shrink-0"},kt={class:"ml-5 w-0 flex-1"},St={class:"text-sm font-medium text-gray-500 truncate"},zt={class:"text-lg font-medium text-gray-900"},Mt={key:0,class:"flex items-center",style:{"margin-top":"10px"}},Ct={class:"shrink-0"},jt={class:"ml-5 w-0 flex-1"},Ht={class:"text-sm font-small text-gray-500 truncate",style:{"font-size":"12px"}},Dt={class:"text-lg font-medium text-gray-900",style:{"font-size":"12px"}},Vt={key:1,class:"flex items-center",style:{"margin-top":"0px"}},At={class:"shrink-0"},Nt={class:"ml-5 w-0 flex-1"},Bt={class:"text-sm font-medium text-gray-500 truncate",style:{"font-size":"12px"}},Tt={class:"text-lg font-medium text-gray-900",style:{"font-size":"12px"}},Ft={key:2,class:"flex items-center",style:{"margin-top":"0px"}},$t={class:"shrink-0"},Lt={class:"ml-5 w-0 flex-1"},Ot={class:"text-sm font-medium text-gray-500 truncate",style:{"font-size":"12px"}},Yt={class:"text-lg font-medium text-gray-900",style:{"font-size":"12px"}},Et={class:"bg-gray-50 px-5 py-3"},Kt={class:"text-sm flex justify-between"},Pt={class:"font-medium text-primary-700 hover:text-primary-900"},Ut={class:"mt-8"},Zt={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},qt={key:0,class:"text-lg leading-6 font-medium text-gray-900"},Gt={class:"mt-2 grid grid-cols-1 gap-5 2xl:grid-cols-2"},It={id:"chart_pie",style:{height:"450px"},class:"w-full bg-white overflow-hidden shadow rounded-lg"},Jt={id:"chart_line",style:{height:"450px"},class:"w-full bg-white overflow-hidden shadow rounded-lg 2xl:col-span-2"},Qt={id:"chart_column",style:{height:"450px"},class:"w-full bg-white overflow-hidden shadow rounded-lg"},Rt={id:"chart_column_monthly",style:{height:"450px"},class:"w-full bg-white overflow-hidden shadow rounded-lg"},me={__name:"Dashboard",props:{greeting:String,chart_data:Object,cards:Array,address:String,sale_target:String,current_month_sale:String,lastMonthSameDaySales:String,lastMonthTillTodaySales:String,lastYearSameDaySales:String,lastYearMonthSales:String,sale_branches:Array},setup(i){const r=i,n=z(),y=M(()=>{let c=parseFloat(n.props.sale_target),_=parseFloat(n.props.current_month_sale);return isNaN(c)&&(c=0),isNaN(_)&&(_=0),_-c});C(()=>{console.log("mounted"),v()}),j(()=>{v()});const v=()=>{r.chart_data.hourly.length>0&&N("chart_line",r.chart_data.hourly,"Hourly","Sales"),r.chart_data.daily.length>0&&S("chart_column",r.chart_data.daily,"Daily","Sales"),r.chart_data.monthly.length>0&&S("chart_column_monthly",r.chart_data.monthly,"Monthly","Sales"),r.chart_data.branches.length>0&&ChartPie("chart_pie",r.data.branches)};return(c,_)=>(s(),o(p,null,[h(l(H),{title:"Dashboard"}),h(V,null,{default:b(()=>{var w;return[t("div",F,[t("div",$,[t("div",L,[t("div",O,[t("div",Y,[t("img",{class:"hidden h-16 w-16 rounded-full sm:block",src:l(n).props.auth.user.image_url,alt:""},null,8,E),t("div",K,[t("h1",P,a(i.greeting)+", "+a(l(n).props.auth.user.name),1),t("dl",U,[Z,t("dd",q,[h(l(T),{class:"shrink-0 mr-1.5 h-5 w-5 text-gray-400","aria-hidden":"true"}),m(" "+a(l(n).props.branch?l(n).props.branch.name+" - "+(((w=l(n).props.branch)==null?void 0:w.address)??""):"Showing records from all branch"),1)])])]),t("div",null,[t("dl",G,[l(n).props.branch?(s(),o("dd",I,[t("div",J,[t("div",Q,[h(l(B),{class:"shrink-0 mr-1.5 h-5 w-5 text-gray-400","aria-hidden":"true"})])]),t("div",R,[W,t("span",X,a(l(n).props.sale_target|c.currency),1)]),t("div",tt,[et,t("span",st,a(l(n).props.current_month_sale|c.currency),1)]),l(n).props.current_month_sale<=l(n).props.sale_target?(s(),o("div",at,[ot,t("span",null,a(y.value),1)])):(s(),o("div",lt,[it,t("span",null,a(Math.abs(y.value)),1)]))])):d("",!0)])])])])])])]),t("div",nt,[t("div",rt,[h(A)])]),t("div",dt,[t("div",ct,[i.cards.length>0?(s(),o("h2",ht,"Overview")):d("",!0),t("div",mt,[i.sale_branches.length>1?(s(),o("div",_t,[xt,t("dl",ut,[(s(!0),o(p,null,k(i.sale_branches,e=>(s(),o("div",{key:e.id,class:"flex justify-between gap-x-4 py-3"},[t("dt",gt,a(e.name),1),t("dd",ft,[t("div",pt,a(e.per_head_cost),1),t("div",yt,a(e.total_guest),1)])]))),128))])])):d("",!0),(s(!0),o(p,null,k(i.cards,e=>(s(),o("div",{key:e.name,class:"bg-white overflow-hidden shadow rounded-lg d-flex flex-column"},[t("div",vt,[t("div",wt,[t("div",bt,[(s(),x(u(e.icon),{class:"h-6 w-6 text-gray-400","aria-hidden":"true"}))]),t("div",kt,[t("dl",null,[t("dt",St,a(e.name),1),t("dd",null,[t("div",zt,a(e.amount),1)])])])]),e.extra_info?(s(),o("div",Mt,[t("div",Ct,[(s(),x(u(e.icon),{class:"h-6 w-6 text-gray-400","aria-hidden":"true"}))]),t("div",jt,[t("dl",null,[t("dt",Ht,[m(a(e.extra_info.name)+" ",1),t("strong",Dt,a(e.extra_info.amount),1)])])])])):d("",!0),e.extra_info2?(s(),o("div",Vt,[t("div",At,[(s(),x(u(e.icon),{class:"h-6 w-6 text-gray-400","aria-hidden":"true"}))]),t("div",Nt,[t("dl",null,[t("dt",Bt,[m(a(e.extra_info2.name)+" ",1),t("strong",Tt,a(e.extra_info2.amount),1)])])])])):d("",!0),e.extra_info3?(s(),o("div",Ft,[t("div",$t,[(s(),x(u(e.icon),{class:"h-6 w-6 text-gray-400","aria-hidden":"true"}))]),t("div",Lt,[t("dl",null,[t("dt",Ot,[m(a(e.extra_info3.name)+" ",1),t("strong",Yt,a(e.extra_info3.amount),1)])])])])):d("",!0)]),t("div",Et,[t("div",Kt,[h(l(D),{href:e.href,class:"font-medium text-primary-700 hover:text-primary-900"},{default:b(()=>[m(" View all ")]),_:2},1032,["href"]),t("span",Pt,a(e.count_record??""),1)])])]))),128))])])]),t("div",Ut,[t("div",Zt,[i.cards.length>0?(s(),o("h2",qt,"Charts")):d("",!0),t("div",Gt,[g(t("div",It,null,512),[[f,i.chart_data.branches.length>0]]),g(t("div",Jt,null,512),[[f,i.chart_data.hourly.length>0]]),g(t("div",Qt,null,512),[[f,i.chart_data.daily.length>0]]),g(t("div",Rt,null,512),[[f,i.chart_data.monthly.length>0]])])])])]}),_:1})],64))}};export{me as default};
