import{Z as C,j,q as E,s as i,o as m,f as u,a as r,b as t,w as P,e as S,i as c,x as p,F as h,r as A,d,O as B,y as b,t as M,p as N}from"./app-43394236.js";import{_ as q}from"./AuthenticatedLayout-3db205f7.js";import{B as F}from"./Breadcrumb-32527f39.js";import{_ as L}from"./Alert-051e22f4.js";import{_ as H}from"./InputError-5426a390.js";import{_ as O}from"./Combobox-a4238030.js";import{_ as X}from"./_plugin-vue_export-helper-c27b6911.js";import{r as $}from"./PlusIcon-fcda2f3e.js";import{r as D}from"./PencilSquareIcon-26066ebb.js";import{r as T}from"./XMarkIcon-bc558b0c.js";import{r as Z}from"./ArrowPathIcon-cb3d4943.js";import"./_commonjsHelpers-de833af9.js";import"./transition-a46c0b1d.js";import"./use-outside-click-e0c0d3b1.js";import"./hidden-2febf338.js";import"./menu-d79329d0.js";import"./use-text-value-ed13f69d.js";import"./ShoppingBagIcon-d763d535.js";import"./XMarkIcon-ae32771d.js";import"./ChevronDownIcon-56a23db4.js";import"./use-controllable-bc8024f1.js";import"./ChevronUpDownIcon-5cd8b824.js";const z={layout:q,components:{Alert:L,Breadcrumb:F,Combobox:O,Head:C,InputError:H,Link:j,PlusIcon:$,PencilSquareIcon:D,XMarkIcon:T,ArrowPathIcon:Z},props:{units:Array,unit:Object},methods:{removeItem(e){confirm("Are you sure you want to delete this element?")&&this.form.group_items.splice(e,1)},addItem(){this.form.group_items.push({factor:"",unit_id:""})}},setup(e){const a=[{name:"Units",href:route("unit.index"),current:!1},{name:"Edit Page",href:"#",current:!1}],n=E({name:e.unit.name,short:e.unit.short,group_items:e.unit.conversions.length?e.unit.conversions:[{factor:"",to_unit_id:""}]});function s(){B.patch(route("unit.update",e.unit.id),n)}return{breadcrumbs:a,form:n,submit:s}}},G={class:"bg-white shadow"},J={class:"px-4 sm:px-6 lg:max-w-6xl lg:mx-auto lg:px-8"},K={class:"py-6 md:flex md:items-center md:justify-between lg:border-t lg:border-gray-200"},Q={class:"flex-1 min-w-0"},R={class:"mt-6 h-9 flex space-x-3 md:mt-0 md:ml-4"},W={class:"py-5"},Y={class:"max-w-6xl mx-auto sm:px-6 lg:px-8"},tt={class:"bg-white shadow sm:rounded-lg"},et=t("div",{class:"flex flex-col sm:flex-row sm:justify-between items-center px-4 py-5 border-b border-gray-200 sm:px-8"},[t("p",{class:"max-w-2xl leading-10 text-gray-700 text-lg font-medium mb-4 sm:mb-0"},"Unit Edit"),t("div",{class:"flex-shrink-0 flex space-x-3"})],-1),st={class:"space-y-4 sm:space-y-6 px-5 py-6"},ot={class:"max-w-xl mx-auto"},rt={class:"grid grid-cols-6 gap-6"},at={class:"col-span-6 sm:col-span-3"},it=t("label",{class:"block text-sm font-medium text-gray-700"},[d(" Name "),t("span",{class:"text-red-500"},"*")],-1),nt={class:"col-span-6 sm:col-span-3"},dt=t("label",{class:"block text-sm font-medium text-gray-700"},[d(" Short "),t("span",{class:"text-red-500"},"*")],-1),lt=b('<div class="relative"><div class="absolute inset-0 flex items-center" aria-hidden="true"><div class="w-full border-t border-gray-300"></div></div><div class="relative flex justify-start ml-4"><span class="px-3 bg-white text-lg font-medium text-gray-900"> Conversions </span></div></div>',1),ct={class:"max-w-5xl mx-auto space-y-4 sm:space-y-6"},mt={class:"table-auto sm:table-fixed min-w-full divide-y divide-gray-200"},ut=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}),t("th",{scope:"col",class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}),t("th",{scope:"col",class:"w-40 px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Factor"),t("th",{scope:"col",class:"w-64 px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Unit"),t("th",{scope:"col",class:"w-6 px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"#")])],-1),pt={class:"bg-white divide-y divide-gray-200"},ft={class:"whitespace-nowrap text-xs text-gray-700"},xt={class:"text-sm leading-5 text-right text-gray-700"},gt=t("td",{class:"whitespace-nowrap text-xs text-gray-700"},[t("div",{class:"text-3xl leading-5 text-center text-gray-700"}," = ")],-1),_t={class:"whitespace-nowrap text-xs text-gray-700"},ht=["onUpdate:modelValue"],bt={class:"whitespace-nowrap text-xs text-gray-700"},yt={class:"whitespace-nowrap text-xs text-gray-700"},vt=["onClick"],wt={class:"bg-white"},kt={colspan:"4",class:"text-left pt-3"},It=b('<div class="relative"><div class="absolute inset-0 flex items-center" aria-hidden="true"><div class="w-full border-t border-gray-300"></div></div><div class="relative flex justify-start ml-4"><span class="px-3 bg-white text-lg font-medium text-gray-900"></span></div></div>',1),Vt={class:"max-w-xl mx-auto"},Ut={class:"flex justify-end"},Ct={type:"submit",class:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"};function jt(e,a,n,s,Et,f){const y=i("Head"),v=i("Breadcrumb"),x=i("PlusIcon"),w=i("Link"),k=i("Alert"),g=i("InputError"),I=i("Combobox"),V=i("XMarkIcon"),U=i("PencilSquareIcon");return m(),u(h,null,[r(y,{title:"Edit Unit"}),t("div",null,[t("div",G,[t("div",J,[t("div",K,[t("div",Q,[r(v,{breadcrumbs:s.breadcrumbs},null,8,["breadcrumbs"])]),t("div",R,[r(w,{href:e.route("unit.create"),class:"inline-flex items-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white hover:bg-gray-50 text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-primary-400"},{default:P(()=>[r(x,{class:"-ml-1 mr-2 h-5 w-5 text-gray-400","aria-hidden":"true"}),d(" Create ")]),_:1},8,["href"])])])])]),t("div",W,[t("div",Y,[t("div",tt,[et,r(k),t("form",{onSubmit:a[3]||(a[3]=S((...o)=>s.submit&&s.submit(...o),["prevent"]))},[t("dl",st,[t("div",ot,[t("div",rt,[t("div",at,[it,c(t("input",{"onUpdate:modelValue":a[0]||(a[0]=o=>s.form.name=o),type:"text",class:"mt-1 block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded"},null,512),[[p,s.form.name]]),r(g,{message:e.$page.props.errors.name},null,8,["message"])]),t("div",nt,[dt,c(t("input",{"onUpdate:modelValue":a[1]||(a[1]=o=>s.form.short=o),type:"text",class:"mt-1 block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded"},null,512),[[p,s.form.short]]),r(g,{message:e.$page.props.errors.short},null,8,["message"])])])]),lt,t("div",ct,[t("table",mt,[ut,t("tbody",pt,[(m(!0),u(h,null,A(s.form.group_items,(o,_)=>(m(),u("tr",{key:_},[t("td",ft,[t("div",xt," 1 "+M(n.unit.name),1)]),gt,t("td",_t,[c(t("input",{"onUpdate:modelValue":l=>o.factor=l,placeholder:"Factor",type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');",autocomplete:"off",class:"block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded"},null,8,ht),[[p,o.factor]])]),t("td",bt,[r(I,{class:"mt-1",modelValue:o.to_unit_id,"onUpdate:modelValue":l=>o.to_unit_id=l,items:n.units},null,8,["modelValue","onUpdate:modelValue","items"])]),t("td",yt,[c(t("button",{onClick:l=>(f.removeItem(_),e.calculation()),type:"button",class:"p-1 border border-transparent rounded-full shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[r(V,{class:"h-4 w-4","aria-hidden":"true"})],8,vt),[[N,s.form.group_items.length>1]])])]))),128))]),t("tfoot",wt,[t("tr",null,[t("th",kt,[t("button",{onClick:a[2]||(a[2]=o=>f.addItem()),type:"button",class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},[d(" Add Item "),r(x,{class:"ml-2 -mr-0.5 h-4 w-4","aria-hidden":"true"})])])])])])]),It,t("div",Vt,[t("div",Ut,[t("button",Ct,[r(U,{class:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),d(" Update ")])])])])],32)])])])])],64)}const Wt=X(z,[["render",jt]]);export{Wt as default};
