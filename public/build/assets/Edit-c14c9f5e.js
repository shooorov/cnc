import{A,q as B,k as Q,E as P,h as N,o as g,f as _,a as n,u as y,b as t,w as L,t as m,d as b,e as z,i as l,p as w,x as c,v as Z,F as v,r as k,y as G,O as H,Z as J,j as W}from"./app-43394236.js";import{_ as X}from"./AuthenticatedLayout-3db205f7.js";import{_ as Y}from"./Alert-051e22f4.js";import{B as tt}from"./Breadcrumb-32527f39.js";import{_ as p}from"./InputError-5426a390.js";import{_ as et}from"./Listbox-93365c37.js";import{_ as st}from"./StatusOptions-e87a9d07.js";import{r as C}from"./PlusIcon-fcda2f3e.js";import{r as R}from"./PencilSquareIcon-26066ebb.js";import{r as V}from"./XMarkIcon-bc558b0c.js";import{r as ot}from"./ArrowPathIcon-cb3d4943.js";import"./_commonjsHelpers-de833af9.js";import"./transition-a46c0b1d.js";import"./use-outside-click-e0c0d3b1.js";import"./hidden-2febf338.js";import"./menu-d79329d0.js";import"./use-text-value-ed13f69d.js";import"./ShoppingBagIcon-d763d535.js";import"./XMarkIcon-ae32771d.js";import"./ChevronDownIcon-56a23db4.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ChevronUpDownIcon-5cd8b824.js";import"./use-controllable-bc8024f1.js";const rt={class:"bg-white shadow"},at={class:"px-4 sm:px-6 lg:max-w-6xl lg:mx-auto lg:px-8"},nt={class:"py-6 md:flex md:items-center md:justify-between lg:border-t lg:border-gray-200"},it={class:"flex-1 min-w-0"},lt={class:"mt-6 h-9 flex space-x-3 md:mt-0 md:ml-4"},dt={class:"py-5"},ct={class:"max-w-6xl mx-auto sm:px-6 lg:px-8"},ut={class:"bg-white shadow sm:rounded-lg"},mt={class:"flex flex-col sm:flex-row sm:justify-between items-center px-4 py-5 border-b border-gray-200 sm:px-8"},pt={class:"max-w-2xl leading-10 text-gray-700 text-lg font-medium mb-4 sm:mb-0"},gt={class:"flex-shrink-0 flex space-x-3"},_t={class:"mt-4 shrink-0 flex"},yt=["onSubmit"],ft={class:"space-y-4 sm:space-y-6 px-5 py-6"},xt={class:"max-w-xl mx-auto"},bt={class:"grid grid-cols-4 gap-4"},ht={class:"col-span-4 sm:col-span-2"},vt=t("label",{class:"mb-1 block text-sm font-medium text-gray-700"}," Image ",-1),wt={class:"relative h-32 w-64"},kt={class:"flex text-sm text-gray-700 border border-gray-400 rounded-md bg-gray-50"},$t=["src"],Ct=t("span",{class:"text-xs text-black"},"Click to upload",-1),Vt=[Ct],qt={class:"absolute top-0 right-0 px-0 py-0 bg-gray-50 opacity-60",title:"Remove Image"},Ut={class:"absolute top-0 left-0 px-0 py-0 bg-gray-50 opacity-60",title:"Refresh Image"},Ft=t("div",{class:"col-span-4 sm:col-span-2"},null,-1),jt={class:"col-span-4 sm:col-span-2"},At=t("label",{class:"mb-1 block text-sm font-medium text-gray-700"},[b(" Categories "),t("span",{class:"text-red-500"},"*")],-1),Pt={class:"col-span-4 sm:col-span-2"},Nt=t("label",{class:"block text-sm font-medium text-gray-700"}," Code ",-1),Rt={class:"col-span-4 sm:col-span-4"},Kt=t("label",{class:"block text-sm font-medium text-gray-700"},[b(" Name "),t("span",{class:"text-red-500"},"*")],-1),Et={class:"col-span-4 sm:col-span-4"},It=t("label",{class:"block text-sm font-medium text-gray-700"}," English Name ",-1),Dt={class:"col-span-4 sm:col-span-4"},Mt=t("label",{class:"block text-sm font-medium text-gray-700"}," For Persons of ",-1),Tt={class:"col-span-4 sm:col-span-4"},Ot=t("label",{class:"block text-sm font-medium text-gray-700"}," Description ",-1),St={class:"col-span-4 sm:col-span-4"},Bt={class:"relative flex items-start"},Qt={class:"flex items-center h-5"},Lt={class:"ml-3 text-sm"},zt=t("label",{for:"vat-applicable",class:"font-medium text-gray-700"},"VAT Applicable",-1),Zt={key:0},Gt={class:"relative my-8"},Ht=t("div",{class:"absolute inset-0 flex items-center","aria-hidden":"true"},[t("div",{class:"w-full border-t border-gray-300"})],-1),Jt={class:"relative flex justify-center"},Wt={class:"px-3 bg-white text-lg font-medium text-gray-900"},Xt={id:"products_list"},Yt=["value"],te={class:"max-w-4xl mx-auto"},ee={class:"table-auto sm:table-fixed min-w-full divide-y divide-gray-200"},se={class:"bg-gray-50"},oe={scope:"col",class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},re=t("th",{scope:"col",class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Quantity",-1),ae={scope:"col",class:"w-32 px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},ne={scope:"col",class:"w-32 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},ie=t("th",{scope:"col",class:"w-10 px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},null,-1),le={class:"bg-white divide-y divide-gray-200"},de={class:"px-1 py-2"},ce=["onUpdate:modelValue","onChange","onKeyup"],ue={class:"px-1 py-2"},me={class:"relative"},pe=["onUpdate:modelValue","onChange","onKeyup"],ge=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 w-14 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"}," pcs ",-1),_e={class:"px-1 py-2"},ye=["value"],fe={class:"px-1 py-2"},xe=["value"],be={class:"px-1 py-2"},he=["onClick"],ve={class:"bg-white"},we={colspan:"1",class:"text-left pt-3"},ke=t("th",{colspan:"2",class:"py-2 px-2 text-right text-base font-medium text-primary-600"},"Regular Cost:",-1),$e={class:"py-2 px-1 text-right text-lg font-medium"},Ce=t("th",{class:"py-2 px-1 text-left text-lg font-medium"},"৳",-1),Ve={class:"max-w-xl mx-auto mt-5"},qe={class:"grid grid-cols-4 gap-4"},Ue={class:"col-span-4 sm:col-span-2"},Fe=t("label",{class:"mb-1 block text-sm font-medium text-gray-700"}," Regular Cost ",-1),je=["value"],Ae=t("div",{class:"col-span-4 sm:col-span-2"},null,-1),Pe={class:"col-span-4 sm:col-span-2"},Ne=t("label",{class:"block text-sm font-medium text-gray-700"}," Rate / Sale Price ",-1),Re={class:"relative"},Ke=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},"৳",-1),Ee={class:"col-span-4 sm:col-span-2"},Ie=t("label",{class:"block text-sm font-medium text-gray-700"}," Discount ",-1),De={class:"relative"},Me=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},"৳",-1),Te={class:"col-span-4 sm:col-span-2"},Oe=t("label",{class:"block text-sm font-medium text-gray-700"}," Total ",-1),Se={class:"relative"},Be=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},"৳",-1),Qe={key:1},Le={class:"relative my-8"},ze=t("div",{class:"absolute inset-0 flex items-center","aria-hidden":"true"},[t("div",{class:"w-full border-t border-gray-300"})],-1),Ze={class:"relative flex justify-center"},Ge={class:"px-3 bg-white text-lg font-medium text-gray-900"},He={class:"max-w-2xl mx-auto my-4"},Je={class:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-gray-200"},We=t("label",{class:"block text-right text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"}," For ",-1),Xe={class:"mt-1 sm:col-span-1 sm:mt-0"},Ye={class:"flex max-w-lg rounded-md shadow-sm"},ts=t("span",{class:"inline-flex items-center rounded-r-md border border-l-0 border-gray-300 bg-gray-50 px-3 text-gray-500 sm:text-sm"},"pcs",-1),es={class:"block text-left text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},ss={id:"ingredients_list"},os=["value"],rs={class:"max-w-4xl mx-auto"},as={class:"table-auto sm:table-fixed min-w-full divide-y divide-gray-200"},ns={class:"bg-gray-50"},is={scope:"col",class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},ls={scope:"col",class:"w-32 px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},ds=t("th",{scope:"col",class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Quantity",-1),cs=t("th",{scope:"col",class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Per Piece",-1),us={scope:"col",class:"w-32 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},ms=t("th",{scope:"col",class:"w-10 px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},null,-1),ps={class:"bg-white divide-y divide-gray-200"},gs={class:"px-1 py-2"},_s=["onUpdate:modelValue","onChange","onKeyup"],ys={class:"px-1 py-2"},fs=["value"],xs={class:"px-1 py-2"},bs={class:"relative"},hs=["onUpdate:modelValue","onChange","onKeyup","readonly"],vs={class:"absolute py-2 top-0 right-0 m-px px-4 w-14 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},ws={class:"px-1 py-2"},ks={class:"relative"},$s=["value"],Cs={class:"absolute py-2 top-0 right-0 m-px px-4 w-14 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},Vs={class:"px-1 py-2"},qs=["value"],Us={class:"px-1 py-2"},Fs=["onClick"],js={class:"bg-white"},As={colspan:"1",class:"text-left pt-3"},Ps=t("th",{colspan:"3",class:"py-2 px-2 text-right text-base font-medium text-primary-600"},"Production Cost:",-1),Ns={class:"py-2 px-1 text-right text-lg font-medium"},Rs=t("th",{class:"py-2 px-1 text-left text-lg font-medium"},"৳",-1),Ks={class:"max-w-xl mx-auto mt-5"},Es={class:"grid grid-cols-4 gap-4"},Is={class:"col-span-4 sm:col-span-2"},Ds=t("label",{class:"mb-1 block text-sm font-medium text-gray-700"}," Margin Amount ",-1),Ms={class:"relative"},Ts=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},"৳",-1),Os={class:"col-span-4 sm:col-span-2"},Ss=t("label",{class:"block text-sm font-medium text-gray-700"}," Margin Percent ",-1),Bs={class:"relative"},Qs=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},"%",-1),Ls={class:"col-span-4 sm:col-span-2"},zs=t("label",{class:"mb-1 block text-sm font-medium text-gray-700"}," Production Cost ",-1),Zs=["value"],Gs=t("div",{class:"col-span-4 sm:col-span-2"},null,-1),Hs={class:"col-span-4 sm:col-span-2"},Js=t("label",{class:"block text-sm font-medium text-gray-700"}," Rate / Sale Price ",-1),Ws={class:"relative"},Xs=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},"৳",-1),Ys={class:"col-span-4 sm:col-span-2"},to=t("label",{class:"block text-sm font-medium text-gray-700"}," Discount ",-1),eo={class:"relative"},so=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},"৳",-1),oo={class:"col-span-4 sm:col-span-2"},ro=t("label",{class:"block text-sm font-medium text-gray-700"}," Total ",-1),ao={class:"relative"},no=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},"৳",-1),io=G('<div class="relative"><div class="absolute inset-0 flex items-center" aria-hidden="true"><div class="w-full border-t border-gray-300"></div></div><div class="relative flex justify-center ml-4"><span class="px-3 bg-white text-lg font-medium text-gray-900"></span></div></div>',1),lo={class:"max-w-xl mx-auto"},co={class:"flex justify-end"},uo={type:"submit",class:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},Ko=Object.assign({layout:X},{__name:"Edit",props:{string_change:Object,statuses:Object,product:Object,products:Array,categories:Array,items:Array,units:Array},setup(u){var F;const a=u,$=A(!1),q=A(!1),K=[{name:a.string_change.product_s,href:route("product.index"),current:!1},{name:"Edit Page",href:"#",current:!1}],o=B({id:a.product.data.id,code:a.product.data.code,name:a.product.data.name,english_name:a.product.data.english_name,rate:a.product.data.rate,status:a.product.data.status,discount:a.product.data.discount,number_of_persons:a.product.data.number_of_persons,total:a.product.data.rate-a.product.data.discount,description:a.product.data.description,vat_applicable:a.product.data.vat_applicable,product_category_id:a.product.data.product_category_id,production_cost:a.product.data.production_cost,ingredients_for:1,margin_amount:a.product.data.margin_amount,margin_percent:a.product.data.margin_percent,group_items:a.product.data.group_items.length?a.product.data.group_items:[{id:"",item_id:"",quantity_use:null,unit_use:null,avg_rate:null}],platter_items:(F=a.product.data.platter_items)!=null&&F.length?a.product.data.platter_items:[{item_id:null,quantity:1}],image:a.product.data.image,image_default:a.product.data.image_default,image_removed:!1}),E=r=>URL.createObjectURL(r),I=r=>{confirm("Are you sure you want to delete this element?")&&o.platter_items.splice(r,1)},D=()=>{o.platter_items.push({item_id:null,quantity:1})},M=r=>{confirm("Are you sure you want to delete this element?")&&o.group_items.splice(r,1)},T=()=>{o.group_items.push({id:"",item_id:"",quantity_use:null,unit_use:null,avg_rate:null})},f=()=>{let r=Number(o.rate),s=Number(o.discount),e=Number(o.production_cost),i=!$.value,d=r>0;o.total=(r-s).toFixed(2);let j=i&&d?(r-e).toFixed(2):null;o.margin_amount=j,o.margin_percent=i&&d?(j/r*100).toFixed(2):null},x=r=>{if(r!=null){let s=o.group_items[r],e=a.items.find(i=>i.name==s.item_name);if(console.log("Initial group_item:",s.quantity),s.item_id=(e==null?void 0:e.id)??null,s.avg_rate=(e==null?void 0:e.avg_rate)??null,s.unit=(e==null?void 0:e.unit)??null,s.unit_use=null,s.quantity_use=0,s.cost=0,e&&s.quantity>0)switch(s.unit){case"kg":s.unit_use="g",s.quantity_use=(s.quantity*1e3/o.ingredients_for).toFixed(3),s.cost=(e.avg_rate/1e3*s.quantity_use).toFixed(2);break;case"l":s.unit_use="ml",s.quantity_use=(s.quantity*1e3/o.ingredients_for).toFixed(3),s.cost=(e.avg_rate/1e3*s.quantity_use).toFixed(2);break;case"pcs":s.unit_use="pcs",s.quantity_use=s.quantity/o.ingredients_for,s.cost=(e.avg_rate*s.quantity_use).toFixed(2);break;default:s.unit_use=null,s.quantity_use=0,s.cost=0;break}}else o.group_items.forEach(s=>{let e=a.items.find(d=>d.id==s.item_id);s.cost=e?s.unit_use!="pcs"?(e.avg_rate/1e3*s.quantity_use).toFixed(2):(e.avg_rate*s.quantity_use).toFixed(2):null;let i=s.unit_use!="pcs"?(s.quantity_use/1e3*o.ingredients_for).toFixed(3):(s.quantity_use*o.ingredients_for).toFixed(3);s.total_quantity=i>0?Number(i):null});o.production_cost=o.group_items.reduce((s,e)=>s+Number(e.cost||0),0),o.production_cost=o.production_cost.toFixed(2),f()},h=(r=void 0)=>{if(r!=null){let s=o.platter_items[r],e=a.products.find(i=>i.name==s.item_name);s.rate=(e==null?void 0:e.rate)??null,s.item_id=(e==null?void 0:e.id)??null,s.cost=e?((s.rate||0)*(s.quantity||0)).toFixed(2):null}else o.platter_items.forEach(s=>{let e=a.products.find(i=>i.id==s.item_id);s.item_name=(e==null?void 0:e.name)??null,s.rate=(e==null?void 0:e.rate)??null,s.item_id=(e==null?void 0:e.id)??null,s.cost=e?((e.rate||0)*(s.quantity||0)).toFixed(2):null});o.production_cost=o.platter_items.reduce((s,e)=>s+Number(e.cost||0),0),o.production_cost=o.production_cost.toFixed(2),f()},U=()=>{H.post(route("product.update",a.product.data.id),o)};Q(()=>{console.log(a.product.is_platter),a.product.is_platter?h():x()}),P(()=>o.product_category_id,()=>{let r=a.categories.find(s=>s.id==o.product_category_id);$.value=r==null?void 0:r.is_platter}),P(()=>o.group_items,r=>{q.value||(r.forEach((s,e)=>{x(e)}),q.value=!0)},{deep:!0});const O=N(()=>a.product.data.status),S=N(()=>a.product.data.id);return(r,s)=>(g(),_(v,null,[n(y(J),{title:"Edit Product"}),t("div",null,[t("div",rt,[t("div",at,[t("div",nt,[t("div",it,[n(tt,{breadcrumbs:K})]),t("div",lt,[n(y(W),{href:r.route("product.create"),class:"inline-flex items-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white hover:bg-gray-50 text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-primary-400"},{default:L(()=>[n(y(C),{class:"-ml-1 mr-2 h-5 w-5 text-gray-400","aria-hidden":"true"}),b(" Create ")]),_:1},8,["href"])])])])]),t("div",dt,[t("div",ct,[t("div",ut,[t("div",mt,[t("p",pt,m(u.string_change.product)+" Edit",1),t("div",gt,[t("div",_t,[n(st,{class:"ml-3",as:"button",status:O.value,items:u.statuses,href:r.route("product.status.update",S.value)},null,8,["status","items","href"]),t("button",{type:"button",onClick:U,class:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},[n(y(R),{class:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),b(" Update ")])])])]),n(Y),t("form",{onSubmit:z(U,["prevent"])},[t("dl",ft,[t("div",xt,[t("div",bt,[t("div",ht,[vt,t("div",wt,[t("div",kt,[t("img",{class:"object-cover h-32 w-64",src:o.image,title:"Click to upload image"},null,8,$t),t("div",{class:"absolute bottom-0 bg-gray-50 w-full text-center opacity-60 cursor-pointer",onClick:s[0]||(s[0]=e=>r.$refs.image.click())},Vt),t("input",{ref:"image",type:"file",class:"hidden",onInput:s[1]||(s[1]=e=>o.image_file=e.target.files[0]),onChange:s[2]||(s[2]=e=>o.image=E(e.target.files[0])),accept:".png, .jpg, .jpeg"},null,544)]),l(t("div",qt,[n(y(V),{class:"w-5 h-5 text-red-500 hover:text-red-700 cursor-pointer","aria-hidden":"true",onClick:s[3]||(s[3]=e=>{o.image=o.image_default,o.image_file=null,o.image_removed=!0})})],512),[[w,o.image!=o.image_default]]),l(t("div",Ut,[n(y(ot),{class:"w-5 h-5 text-primary-500 hover:text-primary-700 cursor-pointer","aria-hidden":"true",onClick:s[4]||(s[4]=e=>{o.image=u.product.data.image,o.image_file=null,o.image_removed=!1})})],512),[[w,o.image!=u.product.data.image]])]),n(p,{message:r.$page.props.errors.image},null,8,["message"])]),Ft,t("div",jt,[At,n(et,{class:"mt-1",modelValue:o.product_category_id,"onUpdate:modelValue":s[5]||(s[5]=e=>o.product_category_id=e),items:u.categories},null,8,["modelValue","items"]),n(p,{message:r.$page.props.errors.product_category_id},null,8,["message"])]),t("div",Pt,[Nt,l(t("input",{"onUpdate:modelValue":s[6]||(s[6]=e=>o.code=e),placeholder:"Code",type:"text",class:"mt-1 block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,512),[[c,o.code]]),n(p,{message:r.$page.props.errors.code},null,8,["message"])]),t("div",Rt,[Kt,l(t("input",{"onUpdate:modelValue":s[7]||(s[7]=e=>o.name=e),placeholder:"Name",type:"text",class:"mt-1 block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,512),[[c,o.name]]),n(p,{message:r.$page.props.errors.name},null,8,["message"])]),t("div",Et,[It,l(t("input",{"onUpdate:modelValue":s[8]||(s[8]=e=>o.english_name=e),placeholder:"English Name",type:"text",class:"mt-1 block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,512),[[c,o.english_name]]),n(p,{message:r.$page.props.errors.english_name},null,8,["message"])]),t("div",Dt,[Mt,l(t("input",{"onUpdate:modelValue":s[9]||(s[9]=e=>o.number_of_persons=e),placeholder:"For how many persons",type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');",class:"mt-1 block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,512),[[c,o.number_of_persons]]),n(p,{message:r.$page.props.errors.number_of_persons},null,8,["message"])]),t("div",Tt,[Ot,l(t("textarea",{"onUpdate:modelValue":s[10]||(s[10]=e=>o.description=e),placeholder:"Description",rows:"3",class:"mt-1 block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,512),[[c,o.description]]),n(p,{message:r.$page.props.errors.description},null,8,["message"])]),t("div",St,[t("div",Bt,[t("div",Qt,[l(t("input",{type:"checkbox",id:"vat-applicable",placeholder:"VAT Applicable","onUpdate:modelValue":s[11]||(s[11]=e=>o.vat_applicable=e),class:"group-checkbox form-checkbox w-5 h-5 focus:ring-primary-600 focus:border-primary-600 text-primary-600 transition duration-150 ease-in-out rounded select-none cursor-pointer"},null,512),[[Z,o.vat_applicable]])]),t("div",Lt,[zt,n(p,{message:r.$page.props.errors.vat_applicable},null,8,["message"])])])])])]),$.value?(g(),_("div",Zt,[t("div",Gt,[Ht,t("div",Jt,[t("span",Wt,m(u.string_change.product_s),1)])]),t("datalist",Xt,[(g(!0),_(v,null,k(u.products,e=>(g(),_("option",{key:e.id,value:e.name},m(e.name),9,Yt))),128))]),t("div",te,[t("table",ee,[t("thead",se,[t("tr",null,[t("th",oe,m(u.string_change.product),1),re,t("th",ae,m(u.string_change.product)+" Rate ",1),t("th",ne,m(u.string_change.product)+" Cost ",1),ie])]),t("tbody",le,[(g(!0),_(v,null,k(o.platter_items,(e,i)=>(g(),_("tr",{key:i},[t("td",de,[l(t("input",{list:"products_list","onUpdate:modelValue":d=>e.item_name=d,onChange:d=>h(i),onKeyup:d=>h(i),type:"text",class:"block w-full px-2 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,40,ce),[[c,e.item_name]])]),t("td",ue,[t("div",me,[l(t("input",{"onUpdate:modelValue":d=>e.quantity=d,onChange:d=>h(i),onKeyup:d=>h(i),placeholder:"Quantity",type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');",class:"block w-full px-4 pr-12 focus:ring-primary-400 focus:border-primary-400 sm:text-sm border-gray-300 rounded-md"},null,40,pe),[[c,e.quantity]]),ge])]),t("td",_e,[t("input",{value:e.rate,readonly:"",placeholder:"Rate",type:"text",class:"block w-full px-4 focus:ring-none focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,8,ye)]),t("td",fe,[t("input",{value:e.cost,readonly:"",placeholder:"Cost",type:"text",class:"block w-full px-4 focus:ring-none focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,8,xe)]),t("td",be,[l(t("button",{onClick:d=>{I(i),h()},type:"button",class:"p-1 border border-transparent rounded-full shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[n(y(V),{class:"h-4 w-4","aria-hidden":"true"})],8,he),[[w,o.platter_items.length>1]])])]))),128))]),t("tfoot",ve,[t("tr",null,[t("th",we,[t("button",{onClick:s[12]||(s[12]=e=>D()),type:"button",class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},[b(" Add Item "),n(y(C),{class:"ml-2 -mr-0.5 h-4 w-4","aria-hidden":"true"})])]),ke,t("th",$e,m(o.production_cost),1),Ce])])])]),t("div",Ve,[t("div",qe,[t("div",Ue,[Fe,t("input",{value:o.production_cost,placeholder:"Production Cost",readonly:"",type:"text",class:"mt-1 block w-full px-4 focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,8,je)]),Ae,t("div",Pe,[Ne,t("div",Re,[l(t("input",{"onUpdate:modelValue":s[13]||(s[13]=e=>o.rate=e),onChange:f,onKeyup:f,placeholder:"Rate",type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');",autocomplete:"off",class:"mt-1 block w-full px-4 pr-12 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,544),[[c,o.rate]]),Ke]),n(p,{message:r.$page.props.errors.rate},null,8,["message"])]),t("div",Ee,[Ie,t("div",De,[l(t("input",{"onUpdate:modelValue":s[14]||(s[14]=e=>o.discount=e),onChange:f,onKeyup:f,placeholder:"Discount",type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');",autocomplete:"off",class:"mt-1 block w-full px-4 pr-12 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,544),[[c,o.discount]]),Me]),n(p,{message:r.$page.props.errors.discount},null,8,["message"])]),t("div",Te,[Oe,t("div",Se,[l(t("input",{"onUpdate:modelValue":s[15]||(s[15]=e=>o.total=e),placeholder:"Total",type:"text",readonly:"",class:"mt-1 block w-full px-4 pr-12 focus:outline-none focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,512),[[c,o.total]]),Be]),n(p,{message:r.$page.props.errors.total},null,8,["message"])])])])])):(g(),_("div",Qe,[t("div",Le,[ze,t("div",Ze,[t("span",Ge,m(u.string_change.item_s),1)])]),t("div",He,[t("div",Je,[We,t("div",Xe,[t("div",Ye,[l(t("input",{"onUpdate:modelValue":s[16]||(s[16]=e=>o.ingredients_for=e),onChange:s[17]||(s[17]=e=>x()),onKeyup:s[18]||(s[18]=e=>x()),placeholder:"100",type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');",class:"block w-full min-w-0 flex-1 rounded-none rounded-l-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,544),[[c,o.ingredients_for]]),ts])]),t("p",es,m(o.name),1)])]),t("datalist",ss,[(g(!0),_(v,null,k(u.items,e=>(g(),_("option",{key:e.id,value:e.name},m(e.name),9,os))),128))]),t("div",rs,[t("table",as,[t("thead",ns,[t("tr",null,[t("th",is,m(u.string_change.item),1),t("th",ls,m(u.string_change.item)+" Unit Rate ",1),ds,cs,t("th",us,m(u.string_change.item)+" Cost ",1),ms])]),t("tbody",ps,[(g(!0),_(v,null,k(o.group_items,(e,i)=>(g(),_("tr",{key:i,class:"divide-gray-200"},[t("td",gs,[l(t("input",{list:"ingredients_list","onUpdate:modelValue":d=>e.item_name=d,onChange:d=>x(i),onKeyup:d=>x(i),type:"text",class:"block w-full px-2 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,40,_s),[[c,e.item_name]])]),t("td",ys,[t("input",{value:e.avg_rate,readonly:"",placeholder:"Avg Rate",type:"text",class:"block w-full px-4 focus:ring-none focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,8,fs)]),t("td",xs,[t("div",bs,[l(t("input",{"onUpdate:modelValue":d=>e.quantity=d,onChange:d=>x(i),onKeyup:d=>x(i),readonly:!e.item_name,placeholder:"Quantity",type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');",class:"block w-full px-4 pr-12 focus:ring-primary-400 focus:border-primary-400 sm:text-sm border-gray-300 rounded-md"},null,40,hs),[[c,e.quantity]]),t("span",vs,m(e.unit??"-"),1)])]),t("td",ws,[t("div",ks,[t("input",{value:e.quantity_use,readonly:"",placeholder:"Quantity",type:"text",class:"block w-full px-4 pr-12 focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,8,$s),t("span",Cs,m(e.unit_use??"-"),1)])]),t("td",Vs,[t("input",{value:e.cost,readonly:"",placeholder:"Cost",type:"text",class:"block w-full px-4 focus:ring-none focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,8,qs)]),t("td",Us,[l(t("button",{onClick:d=>{M(i),x()},type:"button",class:"p-1 border border-transparent rounded-full shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[n(y(V),{class:"h-4 w-4","aria-hidden":"true"})],8,Fs),[[w,o.group_items.length>1]])])]))),128))]),t("tfoot",js,[t("tr",null,[t("th",As,[t("button",{onClick:s[19]||(s[19]=e=>T()),type:"button",class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},[b(" Add Item "),n(y(C),{class:"ml-2 -mr-0.5 h-4 w-4","aria-hidden":"true"})])]),Ps,t("th",Ns,m(o.production_cost),1),Rs])])])]),t("div",Ks,[t("div",Es,[t("div",Is,[Ds,t("div",Ms,[l(t("input",{"onUpdate:modelValue":s[20]||(s[20]=e=>o.margin_amount=e),placeholder:"Margin Amount",type:"text",readonly:"",class:"mt-1 block w-full px-4 pr-12 focus:outline-none focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,512),[[c,o.margin_amount]]),Ts])]),t("div",Os,[Ss,t("div",Bs,[l(t("input",{"onUpdate:modelValue":s[21]||(s[21]=e=>o.margin_percent=e),placeholder:"Margin Percent",type:"text",readonly:"",class:"mt-1 block w-full px-4 pr-12 focus:outline-none focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,512),[[c,o.margin_percent]]),Qs])]),t("div",Ls,[zs,t("input",{value:o.production_cost,placeholder:"Production Cost",readonly:"",type:"text",class:"mt-1 block w-full px-4 focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,8,Zs)]),Gs,t("div",Hs,[Js,t("div",Ws,[l(t("input",{"onUpdate:modelValue":s[22]||(s[22]=e=>o.rate=e),onChange:f,onKeyup:f,placeholder:"Rate",type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');",autocomplete:"off",class:"mt-1 block w-full px-4 pr-12 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,544),[[c,o.rate]]),Xs]),n(p,{message:r.$page.props.errors.rate},null,8,["message"])]),t("div",Ys,[to,t("div",eo,[l(t("input",{"onUpdate:modelValue":s[23]||(s[23]=e=>o.discount=e),onChange:f,onKeyup:f,placeholder:"Discount",type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');",autocomplete:"off",class:"mt-1 block w-full px-4 pr-12 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,544),[[c,o.discount]]),so]),n(p,{message:r.$page.props.errors.discount},null,8,["message"])]),t("div",oo,[ro,t("div",ao,[l(t("input",{"onUpdate:modelValue":s[24]||(s[24]=e=>o.total=e),placeholder:"Total",type:"text",readonly:"",class:"mt-1 block w-full px-4 pr-12 focus:outline-none focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,512),[[c,o.total]]),no]),n(p,{message:r.$page.props.errors.total},null,8,["message"])])])])])),io,t("div",lo,[t("div",co,[t("button",uo,[n(y(R),{class:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),b(" Update ")])])])])],40,yt)])])])])],64))}});export{Ko as default};
