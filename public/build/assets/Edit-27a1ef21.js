import{o as u,c as k,w as x,b as t,a as n,d as y,t as c,u as b,n as I,f,r as w,j as P,F as v,D as K,Z as L,q as M,s as h,e as O,i as l,p as C,x as d,v as D,O as T,y as B}from"./app-d8addb62.js";import{r as Q,_ as z}from"./StatusOptions-0d9e9e0c.js";import{r as H}from"./ChevronUpDownIcon-5c740879.js";import{R as X,h as Z,y as G,M as J}from"./menu-9433506f.js";import{_ as W}from"./AuthenticatedLayout-3ec56e36.js";import{B as Y}from"./Breadcrumb-38397fa2.js";import{_ as $}from"./Alert-0f2bdacd.js";import{_ as tt}from"./InputError-9c75c50b.js";import{_ as et}from"./Listbox-80292c9f.js";import{_ as ot}from"./_plugin-vue_export-helper-c27b6911.js";import{r as st}from"./PlusIcon-55e56ee8.js";import{r as rt}from"./ArrowPathIcon-56bf8e14.js";import{r as at}from"./PencilSquareIcon-87d240fc.js";import{r as it}from"./XMarkIcon-a55f7771.js";import"./_commonjsHelpers-de833af9.js";import"./use-outside-click-e0d988a6.js";import"./use-text-value-78c7b3f7.js";import"./transition-d6b1d06f.js";import"./hidden-68b779fe.js";import"./ShoppingBagIcon-2330124a.js";import"./XMarkIcon-242f9d72.js";import"./ChevronDownIcon-5b7a3277.js";import"./use-controllable-fafe7119.js";const nt={class:"py-1"},lt={__name:"StatusOptionsProducts",props:{as:String,href:String,product_status:String,product_items:Object,position:{type:String,default:"bottom"}},setup(s){const e={inactive:"text-white bg-rose-500 border-rose-500 hover:bg-rose-600 focus:ring-rose-400",draft:"text-white bg-gray-500 border-gray-500 hover:bg-gray-600 focus:ring-gray-400",pending:"text-white bg-yellow-500 border-yellow-500 hover:bg-yellow-600 focus:ring-yellow-400",ready:"text-white bg-primary-500 border-primary-500 hover:bg-primary-600 focus:ring-primary-400",active:"text-white bg-green-500 border-green-500 hover:bg-green-600 focus:ring-green-400",accepted:"text-white bg-green-500 border-green-500 hover:bg-green-600 focus:ring-green-400",done:"text-white bg-primary-500 border-primary-500 hover:bg-primary-600 focus:ring-primary-400",received:"text-white bg-primary-500 border-primary-500 hover:bg-primary-600 focus:ring-primary-400",sent:"text-white bg-red-500 border-red-500 hover:bg-red-600 focus:ring-red-400",approved:"text-white bg-green-500 border-green-500 hover:bg-green-600 focus:ring-green-400",delivered:"text-white bg-gray-500 border-gray-500 hover:bg-gray-600 focus:ring-gray-400",processing:"text-white bg-yellow-500 border-yellow-500 hover:bg-yellow-600 focus:ring-yellow-400",served:"text-white bg-gray-500 border-gray-500 hover:bg-gray-600 focus:ring-gray-400",completed:"text-white bg-primary-500 border-primary-500 hover:bg-primary-600 focus:ring-primary-400",accept:"text-white bg-blue-500 border-blue-500 hover:bg-blue-600 focus:ring-blue-400",unpaid:"text-white bg-yellow-500 border-yellow-500 hover:bg-yellow-600 focus:ring-yellow-400",archived:"text-white bg-rose-500 border-rose-500 hover:bg-rose-600 focus:ring-rose-400",paid:"text-white bg-green-500 border-green-500 hover:bg-green-600 focus:ring-green-400"};return(a,r)=>(u(),k(b(J),{as:"div",class:"relative inline-block"},{default:x(()=>[t("div",null,[n(b(X),{class:I([e[s.product_status],s.as=="button"?"shadow-sm text-sm px-4 py-2 focus:ring-2 focus:ring-offset-2":"text-sm px-2 py-1 focus:ring-1 focus:ring-offset-1","inline-flex justify-center w-full rounded-md border font-medium focus:outline-none"])},{default:x(()=>[y(c(s.product_items[s.product_status])+" ",1),s.position=="top"?(u(),k(b(Q),{key:0,class:"-mr-1 ml-2 h-5 w-5","aria-hidden":"true"})):(u(),k(b(H),{key:1,class:"-mr-1 ml-2 h-5 w-5","aria-hidden":"true"}))]),_:1},8,["class"])]),n(K,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:x(()=>[n(b(Z),{class:I([s.position=="top"?"bottom-10 mb-2 left-0":"mt-2 right-0","origin-top-right absolute w-40 rounded-md shadow-lg bg-white z-10 ring-1 ring-black ring-opacity-5 divide-y divide-gray-100 focus:outline-none"])},{default:x(()=>[t("div",nt,[(u(!0),f(v,null,w(s.product_items,(_,i)=>(u(),k(b(G),{key:i},{default:x(()=>[n(b(P),{href:s.href+"/"+i,method:"patch",as:"button",class:"text-gray-700 group flex items-center w-full px-4 py-2 text-sm hover:bg-gray-100"},{default:x(()=>[y(c(_),1)]),_:2},1032,["href"])]),_:2},1024))),128))])]),_:1},8,["class"])]),_:1})]),_:1}))}},dt={layout:W,components:{Alert:$,Breadcrumb:Y,Listbox:et,Head:L,InputError:tt,Link:P,StatusOptionsProducts:lt,StatusOptions:z,PlusIcon:st,ArrowPathIcon:rt,PencilSquareIcon:at,XMarkIcon:it},props:{string_change:Object,statuses:Object,product:Object,products:Array,categories:Array,items:Array,units:Array},methods:{onFileInput(s){return URL.createObjectURL(s)},removePlatter(s){confirm("Are you sure you want to delete this element?")&&this.form.platter_items.splice(s,1)},addPlatter(){this.form.platter_items.push({item_id:null,quantity:1})},removeItem(s){confirm("Are you sure you want to delete this element?")&&this.form.group_items.splice(s,1)},addItem(){this.form.group_items.push({id:"",item_id:"",quantity_use:null,unit_use:null,avg_rate:null})},total(){let s=Number(this.form.rate),e=Number(this.form.discount),a=Number(this.form.production_cost),r=!this.is_platter,_=s>0;this.form.total=(s-e).toFixed(2);let i=r&&_?(s-a).toFixed(2):null;this.form.margin_amount=i,this.form.margin_percent=r&&_?(i/s*100).toFixed(2):null},calculation(s){if(s!=null){let e=this.form.group_items[s],a=this.items.find(r=>r.name==e.item_name);if(console.log("Initial group_item:",e.quantity),e.item_id=(a==null?void 0:a.id)??null,e.avg_rate=(a==null?void 0:a.avg_rate)??null,e.unit=(a==null?void 0:a.unit)??null,e.unit_use=null,e.quantity_use=0,e.cost=0,a&&e.quantity>0)switch(e.unit){case"kg":e.unit_use="g",e.quantity_use=(e.quantity*1e3/this.form.ingredients_for).toFixed(3),e.cost=(a.avg_rate/1e3*e.quantity_use).toFixed(2);break;case"l":e.unit_use="ml",e.quantity_use=(e.quantity*1e3/this.form.ingredients_for).toFixed(3),e.cost=(a.avg_rate/1e3*e.quantity_use).toFixed(2);break;case"pcs":e.unit_use="pcs",e.quantity_use=e.quantity/this.form.ingredients_for,e.cost=(a.avg_rate*e.quantity_use).toFixed(2);break;default:e.unit_use=null,e.quantity_use=0,e.cost=0;break}}else this.form.group_items.forEach(e=>{let a=this.items.find(_=>_.id==e.item_id);e.cost=a?e.unit_use!="pcs"?(a.avg_rate/1e3*e.quantity_use).toFixed(2):(a.avg_rate*e.quantity_use).toFixed(2):null;let r=e.unit_use!="pcs"?(e.quantity_use/1e3*this.form.ingredients_for).toFixed(3):(e.quantity_use*this.form.ingredients_for).toFixed(3);e.total_quantity=r>0?Number(r):null});this.form.production_cost=this.form.group_items.reduce((e,a)=>e+Number(a.cost||0),0),this.form.production_cost=this.form.production_cost.toFixed(2),this.total()},platterCalculation(s=void 0){if(s!=null){let e=this.form.platter_items[s],a=this.products.find(r=>r.name==e.item_name);e.rate=(a==null?void 0:a.rate)??null,e.item_id=(a==null?void 0:a.id)??null,e.cost=a?((e.rate||0)*(e.quantity||0)).toFixed(2):null}else this.form.platter_items.forEach(e=>{let a=this.products.find(r=>r.id==e.item_id);e.item_name=(a==null?void 0:a.name)??null,e.rate=(a==null?void 0:a.rate)??null,e.item_id=(a==null?void 0:a.id)??null,e.cost=a?((a.rate||0)*(e.quantity||0)).toFixed(2):null});this.form.production_cost=this.form.platter_items.reduce((e,a)=>e+Number(a.cost||0),0),this.form.production_cost=this.form.production_cost.toFixed(2),this.total()}},mounted(){console.log(this.product.is_platter),this.product.is_platter?this.platterCalculation():this.calculation()},watch:{"form.product_category_id"(){let s=this.categories.find(e=>e.id==this.form.product_category_id);this.is_platter=s==null?void 0:s.is_platter},"form.group_items":{deep:!0,handler(s){this.initialLoadComplete||(s.forEach((e,a)=>{this.calculation(a)}),this.initialLoadComplete=!0)}}},data(){return{is_platter:!1,initialLoadComplete:!1}},setup(s){var _;const e=[{name:s.string_change.product_s,href:route("product.index"),current:!1},{name:"Edit Page",href:"#",current:!1}],a=M({id:s.product.data.id,code:s.product.data.code,name:s.product.data.name,english_name:s.product.data.english_name,rate:s.product.data.rate,status:s.product.data.status,discount:s.product.data.discount,number_of_persons:s.product.data.number_of_persons,total:s.product.data.rate-s.product.data.discount,description:s.product.data.description,vat_applicable:s.product.data.vat_applicable,product_category_id:s.product.data.product_category_id,production_cost:s.product.data.production_cost,ingredients_for:1,margin_amount:s.product.data.margin_amount,margin_percent:s.product.data.margin_percent,group_items:s.product.data.group_items.length?s.product.data.group_items:[{id:"",item_id:"",quantity_use:null,unit_use:null,avg_rate:null}],platter_items:(_=s.product.data.platter_items)!=null&&_.length?s.product.data.platter_items:[{item_id:null,quantity:1}],image:s.product.data.image,image_default:s.product.data.image_default,image_removed:!1});function r(){T.post(route("product.update",s.product.data.id),a)}return{breadcrumbs:e,form:a,submit:r}},computed:{status_of_product(){return this.product.data.status},productId(){return this.product.data.id}}},ct={class:"bg-white shadow"},mt={class:"px-4 sm:px-6 lg:max-w-6xl lg:mx-auto lg:px-8"},ut={class:"py-6 md:flex md:items-center md:justify-between lg:border-t lg:border-gray-200"},gt={class:"flex-1 min-w-0"},pt={class:"mt-6 h-9 flex space-x-3 md:mt-0 md:ml-4"},ft={class:"py-5"},_t={class:"max-w-6xl mx-auto sm:px-6 lg:px-8"},ht={class:"bg-white shadow sm:rounded-lg"},yt={class:"flex flex-col sm:flex-row sm:justify-between items-center px-4 py-5 border-b border-gray-200 sm:px-8"},bt={class:"max-w-2xl leading-10 text-gray-700 text-lg font-medium mb-4 sm:mb-0"},xt={class:"flex-shrink-0 flex space-x-3"},vt={class:"mt-4 shrink-0 flex"},wt={class:"space-y-4 sm:space-y-6 px-5 py-6"},kt={class:"max-w-xl mx-auto"},Ct={class:"grid grid-cols-4 gap-4"},qt={class:"col-span-4 sm:col-span-2"},Vt=t("label",{class:"mb-1 block text-sm font-medium text-gray-700"}," Image ",-1),It={class:"relative h-32 w-64"},Pt={class:"flex text-sm text-gray-700 border border-gray-400 rounded-md bg-gray-50"},Ut=["src"],Ft=t("span",{class:"text-xs text-black"},"Click to upload",-1),At=[Ft],St={class:"absolute top-0 right-0 px-0 py-0 bg-gray-50 opacity-60",title:"Remove Image"},jt={class:"absolute top-0 left-0 px-0 py-0 bg-gray-50 opacity-60",title:"Refresh Image"},Rt=t("div",{class:"col-span-4 sm:col-span-2"},null,-1),Nt={class:"col-span-4 sm:col-span-2"},Et=t("label",{class:"mb-1 block text-sm font-medium text-gray-700"},[y(" Categories "),t("span",{class:"text-red-500"},"*")],-1),Kt={class:"col-span-4 sm:col-span-2"},Lt=t("label",{class:"block text-sm font-medium text-gray-700"}," Code ",-1),Mt={class:"col-span-4 sm:col-span-4"},Ot=t("label",{class:"block text-sm font-medium text-gray-700"},[y(" Name "),t("span",{class:"text-red-500"},"*")],-1),Dt={class:"col-span-4 sm:col-span-4"},Tt=t("label",{class:"block text-sm font-medium text-gray-700"}," English Name ",-1),Bt={class:"col-span-4 sm:col-span-4"},Qt=t("label",{class:"block text-sm font-medium text-gray-700"}," For Persons of ",-1),zt={class:"col-span-4 sm:col-span-4"},Ht=t("label",{class:"block text-sm font-medium text-gray-700"}," Description ",-1),Xt={class:"col-span-4 sm:col-span-4"},Zt={class:"relative flex items-start"},Gt={class:"flex items-center h-5"},Jt={class:"ml-3 text-sm"},Wt=t("label",{for:"vat-applicable",class:"font-medium text-gray-700"},"VAT Applicable",-1),Yt={key:0},$t={class:"relative my-8"},te=t("div",{class:"absolute inset-0 flex items-center","aria-hidden":"true"},[t("div",{class:"w-full border-t border-gray-300"})],-1),ee={class:"relative flex justify-center"},oe={class:"px-3 bg-white text-lg font-medium text-gray-900"},se={id:"products_list"},re=["value"],ae={class:"max-w-4xl mx-auto"},ie={class:"table-auto sm:table-fixed min-w-full divide-y divide-gray-200"},ne={class:"bg-gray-50"},le={scope:"col",class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},de=t("th",{scope:"col",class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Quantity",-1),ce={scope:"col",class:"w-32 px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},me={scope:"col",class:"w-32 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},ue=t("th",{scope:"col",class:"w-10 px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},null,-1),ge={class:"bg-white divide-y divide-gray-200"},pe={class:"px-1 py-2"},fe=["onUpdate:modelValue","onChange","onKeyup"],_e={class:"px-1 py-2"},he={class:"relative"},ye=["onUpdate:modelValue","onChange","onKeyup"],be=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 w-14 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"}," pcs ",-1),xe={class:"px-1 py-2"},ve=["value"],we={class:"px-1 py-2"},ke=["value"],Ce={class:"px-1 py-2"},qe=["onClick"],Ve={class:"bg-white"},Ie={colspan:"1",class:"text-left pt-3"},Pe=t("th",{colspan:"2",class:"py-2 px-2 text-right text-base font-medium text-indigo-600"},"Regular Cost: ",-1),Ue={class:"py-2 px-1 text-right text-lg font-medium"},Fe=t("th",{class:"py-2 px-1 text-left text-lg font-medium"},"৳",-1),Ae={class:"max-w-xl mx-auto mt-5"},Se={class:"grid grid-cols-4 gap-4"},je={class:"col-span-4 sm:col-span-2"},Re=t("label",{class:"mb-1 block text-sm font-medium text-gray-700"}," Regular Cost ",-1),Ne=["value"],Ee=t("div",{class:"col-span-4 sm:col-span-2"},null,-1),Ke={class:"col-span-4 sm:col-span-2"},Le=t("label",{class:"block text-sm font-medium text-gray-700"}," Rate / Sale Price ",-1),Me={class:"relative"},Oe=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},"৳",-1),De={class:"col-span-4 sm:col-span-2"},Te=t("label",{class:"block text-sm font-medium text-gray-700"}," Discount ",-1),Be={class:"relative"},Qe=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},"৳",-1),ze={class:"col-span-4 sm:col-span-2"},He=t("label",{class:"block text-sm font-medium text-gray-700"}," Total ",-1),Xe={class:"relative"},Ze=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},"৳",-1),Ge={key:1},Je={class:"relative my-8"},We=t("div",{class:"absolute inset-0 flex items-center","aria-hidden":"true"},[t("div",{class:"w-full border-t border-gray-300"})],-1),Ye={class:"relative flex justify-center"},$e={class:"px-3 bg-white text-lg font-medium text-gray-900"},to={class:"max-w-2xl mx-auto my-4"},eo={class:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-gray-200"},oo=t("label",{class:"block text-right text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"}," For ",-1),so={class:"mt-1 sm:col-span-1 sm:mt-0"},ro={class:"flex max-w-lg rounded-md shadow-sm"},ao=t("span",{class:"inline-flex items-center rounded-r-md border border-l-0 border-gray-300 bg-gray-50 px-3 text-gray-500 sm:text-sm"},"pcs",-1),io={class:"block text-left text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"},no={id:"ingredients_list"},lo=["value"],co={class:"max-w-4xl mx-auto"},mo={class:"table-auto sm:table-fixed min-w-full divide-y divide-gray-200"},uo={class:"bg-gray-50"},go={scope:"col",class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},po={scope:"col",class:"w-32 px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},fo=t("th",{scope:"col",class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Quantity",-1),_o=t("th",{scope:"col",class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Per Piece",-1),ho={scope:"col",class:"w-32 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},yo=t("th",{scope:"col",class:"w-10 px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},null,-1),bo={class:"bg-white divide-y divide-gray-200"},xo={class:"px-1 py-2"},vo=["onUpdate:modelValue","onChange","onKeyup"],wo={class:"px-1 py-2"},ko=["value"],Co={class:"px-1 py-2"},qo={class:"relative"},Vo=["onUpdate:modelValue","onChange","onKeyup","readonly"],Io={class:"absolute py-2 top-0 right-0 m-px px-4 w-14 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},Po={class:"px-1 py-2"},Uo={class:"relative"},Fo=["value"],Ao={class:"absolute py-2 top-0 right-0 m-px px-4 w-14 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},So={class:"px-1 py-2"},jo=["value"],Ro={class:"px-1 py-2"},No=["onClick"],Eo={class:"bg-white"},Ko={colspan:"1",class:"text-left pt-3"},Lo=t("th",{colspan:"3",class:"py-2 px-2 text-right text-base font-medium text-indigo-600"},"Production Cost: ",-1),Mo={class:"py-2 px-1 text-right text-lg font-medium"},Oo=t("th",{class:"py-2 px-1 text-left text-lg font-medium"},"৳",-1),Do={class:"max-w-xl mx-auto mt-5"},To={class:"grid grid-cols-4 gap-4"},Bo={class:"col-span-4 sm:col-span-2"},Qo=t("label",{class:"mb-1 block text-sm font-medium text-gray-700"}," Margin Amount ",-1),zo={class:"relative"},Ho=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},"৳",-1),Xo={class:"col-span-4 sm:col-span-2"},Zo=t("label",{class:"block text-sm font-medium text-gray-700"}," Margin Percent ",-1),Go={class:"relative"},Jo=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},"%",-1),Wo={class:"col-span-4 sm:col-span-2"},Yo=t("label",{class:"mb-1 block text-sm font-medium text-gray-700"}," Production Cost ",-1),$o=["value"],ts=t("div",{class:"col-span-4 sm:col-span-2"},null,-1),es={class:"col-span-4 sm:col-span-2"},os=t("label",{class:"block text-sm font-medium text-gray-700"}," Rate / Sale Price ",-1),ss={class:"relative"},rs=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},"৳",-1),as={class:"col-span-4 sm:col-span-2"},is=t("label",{class:"block text-sm font-medium text-gray-700"}," Discount ",-1),ns={class:"relative"},ls=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},"৳",-1),ds={class:"col-span-4 sm:col-span-2"},cs=t("label",{class:"block text-sm font-medium text-gray-700"}," Total ",-1),ms={class:"relative"},us=t("span",{class:"absolute py-2 top-0 right-0 m-px px-4 rounded-r-md border-l border-gray-300 bg-gray-100 sm:text-sm"},"৳",-1),gs=B('<div class="relative"><div class="absolute inset-0 flex items-center" aria-hidden="true"><div class="w-full border-t border-gray-300"></div></div><div class="relative flex justify-center ml-4"><span class="px-3 bg-white text-lg font-medium text-gray-900"></span></div></div>',1),ps={class:"max-w-xl mx-auto"},fs={class:"flex justify-end"},_s={type:"submit",class:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"};function hs(s,e,a,r,_,i){const U=h("Head"),F=h("Breadcrumb"),q=h("PlusIcon"),A=h("Link"),S=h("StatusOptions"),j=h("Alert"),V=h("XMarkIcon"),R=h("ArrowPathIcon"),g=h("InputError"),N=h("Listbox"),E=h("PencilSquareIcon");return u(),f(v,null,[n(U,{title:"Edit Product"}),t("div",null,[t("div",ct,[t("div",mt,[t("div",ut,[t("div",gt,[n(F,{breadcrumbs:r.breadcrumbs},null,8,["breadcrumbs"])]),t("div",pt,[n(A,{href:s.route("product.create"),class:"inline-flex items-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white hover:bg-gray-50 text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-primary-400"},{default:x(()=>[n(q,{class:"-ml-1 mr-2 h-5 w-5 text-gray-400","aria-hidden":"true"}),y(" Create ")]),_:1},8,["href"])])])])]),t("div",ft,[t("div",_t,[t("div",ht,[t("div",yt,[t("p",bt,c(a.string_change.product)+" Edit",1),t("div",xt,[t("div",vt,[n(S,{class:"ml-3",as:"button",status:i.status_of_product,items:a.statuses,href:s.route("product.status.update",i.productId)},null,8,["status","items","href"])])])]),n(j),t("form",{onSubmit:e[33]||(e[33]=O((...o)=>r.submit&&r.submit(...o),["prevent"]))},[t("dl",wt,[t("div",kt,[t("div",Ct,[t("div",qt,[Vt,t("div",It,[t("div",Pt,[t("img",{class:"object-cover h-32 w-64",src:r.form.image,title:"Click to upload image"},null,8,Ut),t("div",{class:"absolute bottom-0 bg-gray-50 w-full text-center opacity-60 cursor-pointer",onClick:e[0]||(e[0]=o=>s.$refs.image.click())},At),t("input",{ref:"image",type:"file",class:"hidden",onInput:e[1]||(e[1]=o=>r.form.image_file=o.target.files[0]),onChange:e[2]||(e[2]=o=>{r.form.image=i.onFileInput(o.target.files[0])}),accept:".png, .jpg, .jpeg"},null,544)]),l(t("div",St,[n(V,{class:"w-5 h-5 text-red-500 hover:text-red-700 cursor-pointer","aria-hidden":"true",onClick:e[3]||(e[3]=o=>{r.form.image=r.form.image_default,r.form.image_file=null,r.form.image_removed=!0})})],512),[[C,r.form.image!=r.form.image_default]]),l(t("div",jt,[n(R,{class:"w-5 h-5 text-primary-500 hover:text-primary-700 cursor-pointer","aria-hidden":"true",onClick:e[4]||(e[4]=o=>{r.form.image=a.product.image,r.form.image_file=null,r.form.image_removed=!1})})],512),[[C,r.form.image!=a.product.image]])]),n(g,{message:s.$page.props.errors.image},null,8,["message"])]),Rt,t("div",Nt,[Et,n(N,{class:"mt-1",modelValue:r.form.product_category_id,"onUpdate:modelValue":e[5]||(e[5]=o=>r.form.product_category_id=o),items:a.categories},null,8,["modelValue","items"]),n(g,{message:s.$page.props.errors.product_category_id},null,8,["message"])]),t("div",Kt,[Lt,l(t("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>r.form.code=o),placeholder:"Code",type:"text",class:"mt-1 block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,512),[[d,r.form.code]]),n(g,{message:s.$page.props.errors.code},null,8,["message"])]),t("div",Mt,[Ot,l(t("input",{"onUpdate:modelValue":e[7]||(e[7]=o=>r.form.name=o),placeholder:"Name",type:"text",class:"mt-1 block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,512),[[d,r.form.name]]),n(g,{message:s.$page.props.errors.name},null,8,["message"])]),t("div",Dt,[Tt,l(t("input",{"onUpdate:modelValue":e[8]||(e[8]=o=>r.form.english_name=o),placeholder:"English Name",type:"text",class:"mt-1 block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,512),[[d,r.form.english_name]]),n(g,{message:s.$page.props.errors.english_name},null,8,["message"])]),t("div",Bt,[Qt,l(t("input",{"onUpdate:modelValue":e[9]||(e[9]=o=>r.form.number_of_persons=o),placeholder:"For how many persons",type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');",class:"mt-1 block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,512),[[d,r.form.number_of_persons]]),n(g,{message:s.$page.props.errors.number_of_persons},null,8,["message"])]),t("div",zt,[Ht,l(t("textarea",{"onUpdate:modelValue":e[10]||(e[10]=o=>r.form.description=o),placeholder:"Description",rows:"3",class:"mt-1 block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,512),[[d,r.form.description]]),n(g,{message:s.$page.props.errors.description},null,8,["message"])]),t("div",Xt,[t("div",Zt,[t("div",Gt,[l(t("input",{type:"checkbox",id:"vat-applicable",placeholder:"VAT Applicable","onUpdate:modelValue":e[11]||(e[11]=o=>r.form.vat_applicable=o),class:"group-checkbox form-checkbox w-5 h-5 focus:ring-primary-600 focus:border-primary-600 text-primary-600 transition duration-150 ease-in-out rounded select-none cursor-pointer"},null,512),[[D,r.form.vat_applicable]])]),t("div",Jt,[Wt,n(g,{message:s.$page.props.errors.vat_applicable},null,8,["message"])])])])])]),_.is_platter?(u(),f("div",Yt,[t("div",$t,[te,t("div",ee,[t("span",oe,c(a.string_change.product_s),1)])]),t("datalist",se,[(u(!0),f(v,null,w(a.products,o=>(u(),f("option",{key:o.id,value:o.name},c(o.name),9,re))),128))]),t("div",ae,[t("table",ie,[t("thead",ne,[t("tr",null,[t("th",le,c(a.string_change.product),1),de,t("th",ce,c(a.string_change.product)+" Rate",1),t("th",me,c(a.string_change.product)+" Cost",1),ue])]),t("tbody",ge,[(u(!0),f(v,null,w(r.form.platter_items,(o,p)=>(u(),f("tr",{key:p},[t("td",pe,[l(t("input",{list:"products_list","onUpdate:modelValue":m=>o.item_name=m,onChange:m=>i.platterCalculation(p),onKeyup:m=>i.platterCalculation(p),type:"text",class:"block w-full px-2 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,40,fe),[[d,o.item_name]])]),t("td",_e,[t("div",he,[l(t("input",{"onUpdate:modelValue":m=>o.quantity=m,onChange:m=>i.platterCalculation(p),onKeyup:m=>i.platterCalculation(p),placeholder:"Quantity",type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');",class:"block w-full px-4 pr-12 focus:ring-primary-400 focus:border-primary-400 sm:text-sm border-gray-300 rounded-md"},null,40,ye),[[d,o.quantity]]),be])]),t("td",xe,[t("input",{value:o.rate,readonly:"",placeholder:"Rate",type:"text",class:"block w-full px-4 focus:ring-none focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,8,ve)]),t("td",we,[t("input",{value:o.cost,readonly:"",placeholder:"Cost",type:"text",class:"block w-full px-4 focus:ring-none focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,8,ke)]),t("td",Ce,[l(t("button",{onClick:m=>[i.removePlatter(p),i.platterCalculation()],type:"button",class:"p-1 border border-transparent rounded-full shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[n(V,{class:"h-4 w-4","aria-hidden":"true"})],8,qe),[[C,r.form.platter_items.length>1]])])]))),128))]),t("tfoot",Ve,[t("tr",null,[t("th",Ie,[t("button",{onClick:e[12]||(e[12]=o=>i.addPlatter()),type:"button",class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},[y(" Add Item "),n(q,{class:"ml-2 -mr-0.5 h-4 w-4","aria-hidden":"true"})])]),Pe,t("th",Ue,c(r.form.production_cost),1),Fe])])])]),t("div",Ae,[t("div",Se,[t("div",je,[Re,t("input",{value:r.form.production_cost,placeholder:"Production Cost",readonly:"",type:"text",class:"mt-1 block w-full px-4 focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,8,Ne)]),Ee,t("div",Ke,[Le,t("div",Me,[l(t("input",{"onUpdate:modelValue":e[13]||(e[13]=o=>r.form.rate=o),onChange:e[14]||(e[14]=(...o)=>i.total&&i.total(...o)),onKeyup:e[15]||(e[15]=(...o)=>i.total&&i.total(...o)),placeholder:"Rate",type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');",autocomplete:"off",class:"mt-1 block w-full px-4 pr-12 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,544),[[d,r.form.rate]]),Oe]),n(g,{message:s.$page.props.errors.rate},null,8,["message"])]),t("div",De,[Te,t("div",Be,[l(t("input",{"onUpdate:modelValue":e[16]||(e[16]=o=>r.form.discount=o),onChange:e[17]||(e[17]=(...o)=>i.total&&i.total(...o)),onKeyup:e[18]||(e[18]=(...o)=>i.total&&i.total(...o)),placeholder:"Discount",type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');",autocomplete:"off",class:"mt-1 block w-full px-4 pr-12 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,544),[[d,r.form.discount]]),Qe]),n(g,{message:s.$page.props.errors.discount},null,8,["message"])]),t("div",ze,[He,t("div",Xe,[l(t("input",{"onUpdate:modelValue":e[19]||(e[19]=o=>r.form.total=o),placeholder:"Total",type:"text",readonly:"",class:"mt-1 block w-full px-4 pr-12 focus:outline-none focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,512),[[d,r.form.total]]),Ze]),n(g,{message:s.$page.props.errors.total},null,8,["message"])])])])])):(u(),f("div",Ge,[t("div",Je,[We,t("div",Ye,[t("span",$e,c(a.string_change.item_s),1)])]),t("div",to,[t("div",eo,[oo,t("div",so,[t("div",ro,[l(t("input",{"onUpdate:modelValue":e[20]||(e[20]=o=>r.form.ingredients_for=o),onChange:e[21]||(e[21]=o=>i.calculation()),onKeyup:e[22]||(e[22]=o=>i.calculation()),placeholder:"100",type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');",class:"block w-full min-w-0 flex-1 rounded-none rounded-l-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,544),[[d,r.form.ingredients_for]]),ao])]),t("p",io,c(r.form.name),1)])]),t("datalist",no,[(u(!0),f(v,null,w(a.items,o=>(u(),f("option",{key:o.id,value:o.name},c(o.name),9,lo))),128))]),t("div",co,[t("table",mo,[t("thead",uo,[t("tr",null,[t("th",go,c(a.string_change.item),1),t("th",po,c(a.string_change.item)+" Unit Rate",1),fo,_o,t("th",ho,c(a.string_change.item)+" Cost",1),yo])]),t("tbody",bo,[(u(!0),f(v,null,w(r.form.group_items,(o,p)=>(u(),f("tr",{key:p,class:"divide-gray-200"},[t("td",xo,[l(t("input",{list:"ingredients_list","onUpdate:modelValue":m=>o.item_name=m,onChange:m=>i.calculation(p),onKeyup:m=>i.calculation(p),type:"text",class:"block w-full px-2 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,40,vo),[[d,o.item_name]])]),t("td",wo,[t("input",{value:o.avg_rate,readonly:"",placeholder:"Avg Rate",type:"text",class:"block w-full px-4 focus:ring-none focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,8,ko)]),t("td",Co,[t("div",qo,[l(t("input",{"onUpdate:modelValue":m=>o.quantity=m,onChange:m=>i.calculation(p),onKeyup:m=>i.calculation(p),readonly:!o.item_name,placeholder:"Quantity",type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');",class:"block w-full px-4 pr-12 focus:ring-primary-400 focus:border-primary-400 sm:text-sm border-gray-300 rounded-md"},null,40,Vo),[[d,o.quantity]]),t("span",Io,c(o.unit??"-"),1)])]),t("td",Po,[t("div",Uo,[t("input",{value:o.quantity_use,readonly:"",placeholder:"Quantity",type:"text",class:"block w-full px-4 pr-12 focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,8,Fo),t("span",Ao,c(o.unit_use??"-"),1)])]),t("td",So,[t("input",{value:o.cost,readonly:"",placeholder:"Cost",type:"text",class:"block w-full px-4 focus:ring-none focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,8,jo)]),t("td",Ro,[l(t("button",{onClick:m=>[i.removeItem(p),i.calculation()],type:"button",class:"p-1 border border-transparent rounded-full shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[n(V,{class:"h-4 w-4","aria-hidden":"true"})],8,No),[[C,r.form.group_items.length>1]])])]))),128))]),t("tfoot",Eo,[t("tr",null,[t("th",Ko,[t("button",{onClick:e[23]||(e[23]=o=>i.addItem()),type:"button",class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},[y(" Add Item "),n(q,{class:"ml-2 -mr-0.5 h-4 w-4","aria-hidden":"true"})])]),Lo,t("th",Mo,c(r.form.production_cost),1),Oo])])])]),t("div",Do,[t("div",To,[t("div",Bo,[Qo,t("div",zo,[l(t("input",{"onUpdate:modelValue":e[24]||(e[24]=o=>r.form.margin_amount=o),placeholder:"Margin Amount",type:"text",readonly:"",class:"mt-1 block w-full px-4 pr-12 focus:outline-none focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,512),[[d,r.form.margin_amount]]),Ho])]),t("div",Xo,[Zo,t("div",Go,[l(t("input",{"onUpdate:modelValue":e[25]||(e[25]=o=>r.form.margin_percent=o),placeholder:"Margin Percent",type:"text",readonly:"",class:"mt-1 block w-full px-4 pr-12 focus:outline-none focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,512),[[d,r.form.margin_percent]]),Jo])]),t("div",Wo,[Yo,t("input",{value:r.form.production_cost,placeholder:"Production Cost",readonly:"",type:"text",class:"mt-1 block w-full px-4 focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,8,$o)]),ts,t("div",es,[os,t("div",ss,[l(t("input",{"onUpdate:modelValue":e[26]||(e[26]=o=>r.form.rate=o),onChange:e[27]||(e[27]=(...o)=>i.total&&i.total(...o)),onKeyup:e[28]||(e[28]=(...o)=>i.total&&i.total(...o)),placeholder:"Rate",type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');",autocomplete:"off",class:"mt-1 block w-full px-4 pr-12 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,544),[[d,r.form.rate]]),rs]),n(g,{message:s.$page.props.errors.rate},null,8,["message"])]),t("div",as,[is,t("div",ns,[l(t("input",{"onUpdate:modelValue":e[29]||(e[29]=o=>r.form.discount=o),onChange:e[30]||(e[30]=(...o)=>i.total&&i.total(...o)),onKeyup:e[31]||(e[31]=(...o)=>i.total&&i.total(...o)),placeholder:"Discount",type:"text",oninput:"this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*?)\\..*/g, '$1');",autocomplete:"off",class:"mt-1 block w-full px-4 pr-12 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded-md"},null,544),[[d,r.form.discount]]),ls]),n(g,{message:s.$page.props.errors.discount},null,8,["message"])]),t("div",ds,[cs,t("div",ms,[l(t("input",{"onUpdate:modelValue":e[32]||(e[32]=o=>r.form.total=o),placeholder:"Total",type:"text",readonly:"",class:"mt-1 block w-full px-4 pr-12 focus:outline-none focus:ring-0 focus:ring-primary-400 focus:border-primary-400 bg-gray-100 sm:text-sm border-gray-300 rounded-md"},null,512),[[d,r.form.total]]),us]),n(g,{message:s.$page.props.errors.total},null,8,["message"])])])])])),gs,t("div",ps,[t("div",fs,[t("button",_s,[n(E,{class:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),y(" Update ")])])])])],32)])])])])],64)}const Ds=ot(dt,[["render",hs]]);export{Ds as default};
