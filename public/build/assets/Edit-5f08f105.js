import{K as E,T as C,E as M,A as j,o as m,f as c,a,u as e,w as h,F as _,Z as B,b as s,j as N,d as u,e as A,i,x,W as O,p as b,r as y,z as w,t as v,g as f,v as P,O as S}from"./app-d8addb62.js";import{_ as T}from"./Alert-0f2bdacd.js";import{_ as D}from"./AuthenticatedLayout-3ec56e36.js";import{B as z}from"./Breadcrumb-38397fa2.js";import{_ as F}from"./Listbox-80292c9f.js";import{_ as R}from"./InputError-9c75c50b.js";import{_ as H}from"./UploadImage-d3380f1a.js";import{r as K}from"./PlusIcon-55e56ee8.js";import{r as L,a as W}from"./EyeIcon-9d9c2ebc.js";import{r as Z}from"./PencilSquareIcon-87d240fc.js";import"./_commonjsHelpers-de833af9.js";import"./XMarkIcon-a55f7771.js";import"./transition-d6b1d06f.js";import"./use-outside-click-e0d988a6.js";import"./hidden-68b779fe.js";import"./menu-9433506f.js";import"./use-text-value-78c7b3f7.js";import"./ShoppingBagIcon-2330124a.js";import"./XMarkIcon-242f9d72.js";import"./ChevronDownIcon-5b7a3277.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ChevronUpDownIcon-5c740879.js";import"./use-controllable-fafe7119.js";import"./ArrowPathIcon-56bf8e14.js";const q={class:"bg-white shadow"},G={class:"px-4 sm:px-6 lg:max-w-6xl lg:mx-auto lg:px-8"},I={class:"py-6 md:flex md:items-center md:justify-between lg:border-t lg:border-gray-200"},J={class:"flex-1 min-w-0"},Q={class:"mt-6 h-9 flex space-x-3 md:mt-0 md:ml-4"},X={class:"py-5"},Y={class:"max-w-6xl mx-auto sm:px-6 lg:px-8"},ss={class:"bg-white shadow sm:rounded-lg"},es=s("div",{class:"flex flex-col sm:flex-row sm:justify-between items-center px-4 py-5 border-b border-gray-200 sm:px-8"},[s("p",{class:"max-w-2xl leading-10 text-gray-700 text-lg font-medium mb-4 sm:mb-0"},"User Edit"),s("div",{class:"flex-shrink-0 flex space-x-3"})],-1),ts=["onSubmit"],rs={class:"space-y-4 sm:space-y-6 px-5 py-6"},os={class:"max-w-5xl mx-auto space-y-4 sm:space-y-6"},ds={class:"grid sm:grid-cols-3 sm:gap-2"},as=s("dt",{class:"text-sm sm:leading-10 font-semibold text-gray-700 tracking-wider sm:text-right pr-8"},[u(" Photo "),s("span",{class:"text-red-500"},"*")],-1),is={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-1"},ls={class:"grid sm:grid-cols-3 sm:gap-2"},ns=s("dt",{class:"text-sm sm:leading-10 font-semibold text-gray-700 tracking-wider sm:text-right pr-8"},[u(" Name "),s("span",{class:"text-red-500"},"*")],-1),ms={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-1"},cs=["disabled"],us={class:"grid sm:grid-cols-3 sm:gap-2"},gs=s("dt",{class:"text-sm sm:leading-10 font-semibold text-gray-700 tracking-wider sm:text-right pr-8"},[u(" Email "),s("span",{class:"text-red-500"},"*")],-1),ps={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-1"},xs=["disabled"],_s={class:"grid sm:grid-cols-3 sm:gap-2"},fs=s("dt",{class:"text-sm sm:leading-10 font-semibold text-gray-700 tracking-wider sm:text-right pr-8"},"Password",-1),hs={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-1"},bs={class:"flex rounded shadow-sm"},ys=["type","disabled"],ws={type:"button",class:"inline-flex items-center justify-center px-4 rounded-r border border-l-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm"},vs={class:"grid sm:grid-cols-3 sm:gap-2"},ks=s("dt",{class:"text-sm sm:leading-10 font-semibold text-gray-700 tracking-wider sm:text-right pr-8"},"Mobile",-1),Vs={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-1"},Us={class:"relative"},$s=s("span",{class:"absolute py-2 top-0 left-0 m-px px-4 rounded-l-md border-r border-gray-300 bg-gray-100 sm:text-sm"},"+88",-1),Es=["disabled"],Cs={class:"grid sm:grid-cols-3 sm:gap-2"},Ms=s("dt",{class:"text-sm sm:leading-10 font-semibold text-gray-700 tracking-wider sm:text-right pr-8"},"Address",-1),js={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},Bs=["disabled"],Ns={key:0,class:"grid sm:grid-cols-3 sm:gap-2"},As=s("dt",{class:"text-sm sm:leading-10 font-semibold text-gray-700 tracking-wider sm:text-right pr-8"},[u(" User Type "),s("span",{class:"text-red-500"},"*")],-1),Os={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-1"},Ps={class:"mt-3 space-y-4"},Ss=["value"],Ts={class:"ml-2 tracking-wide cursor-pointer"},Ds={class:"flex items-center mr-5"},zs=s("span",{class:"ml-2 tracking-wide cursor-pointer"}," Other (Custom role based) ",-1),Fs={key:1,class:"grid sm:grid-cols-3 sm:gap-2"},Rs=s("dt",{class:"text-sm sm:leading-10 font-semibold text-gray-700 tracking-wider sm:text-right pr-8"},[u(" Role "),s("span",{class:"text-red-500"},"*")],-1),Hs={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-1"},Ks={key:2,class:"grid sm:grid-cols-3 sm:gap-2"},Ls=s("dt",{class:"text-sm sm:leading-10 font-semibold text-gray-700 tracking-wider sm:text-right pr-8"},[u(" Branch Access "),s("span",{class:"text-red-500"},"*")],-1),Ws={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-1"},Zs={class:"mt-3 space-y-4"},qs=["onUpdate:modelValue"],Gs={class:"ml-2 tracking-wide cursor-pointer"},Is=s("hr",{class:"my-4"},null,-1),Js={class:"grid sm:grid-cols-3 sm:gap-2 sm:px-6"},Qs=s("dt",{class:"text-sm leading-5 font-semibold text-gray-500"},null,-1),Xs={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},Ys={class:"mt-6 flex space-x-3 md:mt-0"},se={type:"submit",class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-600"},Ue={__name:"Edit",props:{user:Object,roles:Array,access:Object},setup(d){const l=d,k=E(),t=C({type:l.user.type,role_id:l.user.role_id,name:l.user.name,email:l.user.email,password:"",mobile:l.user.mobile,address:l.user.address,branches:k.props.branches});t.branches.map(n=>(n.is_checked=l.access[n.id],n)),M(()=>t.type,(n,o)=>{n||(t.role_id=l.user.role_id)});const g=j(!0),V=[{name:"Users",href:route("user.index"),current:!1},{name:"Edit Page",href:"#",current:!1}];function U(){S.patch(route("user.update",l.user.id),t)}return(n,o)=>(m(),c(_,null,[a(e(B),{title:"Edit User"}),a(D,null,{default:h(()=>[s("div",q,[s("div",G,[s("div",I,[s("div",J,[a(z,{breadcrumbs:V})]),s("div",Q,[a(e(N),{href:n.route("user.create"),class:"inline-flex items-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white hover:bg-gray-50 text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-primary-400"},{default:h(()=>[a(e(K),{class:"-ml-1 mr-2 h-5 w-5 text-gray-400","aria-hidden":"true"}),u(" Create ")]),_:1},8,["href"])])])])]),s("div",X,[s("div",Y,[s("div",ss,[es,a(T),s("form",{onSubmit:A(U,["prevent"])},[s("dl",rs,[s("div",os,[s("div",ds,[as,s("dd",is,[a(H,{image:d.user.image_url,default_image:d.user.default_image_url,route:n.route("user.image.update",d.user.id)},null,8,["image","default_image","route"])])]),s("div",ls,[ns,s("dd",ms,[i(s("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>e(t).name=r),placeholder:"Name",type:"text",disabled:d.user.is_admin,class:"block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded"},null,8,cs),[[x,e(t).name]])])]),s("div",us,[gs,s("dd",ps,[i(s("input",{"onUpdate:modelValue":o[1]||(o[1]=r=>e(t).email=r),placeholder:"Email",type:"email",autocomplete:"email",disabled:d.user.is_admin,class:"block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded"},null,8,xs),[[x,e(t).email]])])]),s("div",_s,[fs,s("dd",hs,[s("div",bs,[i(s("input",{class:"focus-within:z-10 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent block w-full px-4 sm:text-sm border-gray-300 rounded-l",type:g.value?"password":"text",placeholder:"Password","onUpdate:modelValue":o[2]||(o[2]=r=>e(t).password=r),disabled:d.user.is_admin,label:"Password",autocomplete:"new-password"},null,8,ys),[[O,e(t).password]]),s("button",ws,[i(a(e(L),{onClick:o[3]||(o[3]=r=>g.value=!g.value),class:"w-5 h-5 cursor-pointer hover:text-green-500","aria-hidden":"true"},null,512),[[b,!g.value]]),i(a(e(W),{onClick:o[4]||(o[4]=r=>g.value=!g.value),class:"w-5 h-5 cursor-pointer hover:text-red-500","aria-hidden":"true"},null,512),[[b,g.value]])])])])]),s("div",vs,[ks,s("dd",Vs,[s("div",Us,[$s,i(s("input",{"onUpdate:modelValue":o[5]||(o[5]=r=>e(t).mobile=r),placeholder:"Mobile",type:"text",disabled:d.user.is_admin,class:"block w-full px-4 pl-16 focus:outline-none focus:ring-primary-400 focus:border-primary-400 focus:bg-transparent hover:bg-gray-100 sm:text-sm border-gray-300 rounded"},null,8,Es),[[x,e(t).mobile]])])])]),s("div",Cs,[Ms,s("dd",js,[i(s("textarea",{"onUpdate:modelValue":o[6]||(o[6]=r=>e(t).address=r),placeholder:"Address Here",rows:"4",type:"text",disabled:d.user.is_admin,class:"block w-full px-4 focus:ring-indigo-400 focus:border-indigo-400 hover:bg-gray-100 focus:bg-transparent sm:text-sm border-gray-300 rounded"},null,8,Bs),[[x,e(t).address]]),a(R,{message:n.$page.props.errors.address},null,8,["message"])])]),d.user.is_admin?f("",!0):(m(),c("div",Ns,[As,s("dd",Os,[s("div",Ps,[(m(!0),c(_,null,y(d.user.types,(r,p)=>(m(),c("label",{key:p,class:"flex items-center mr-5"},[i(s("input",{"onUpdate:modelValue":o[7]||(o[7]=$=>e(t).type=$),value:p,type:"radio",class:"form-radio w-5 h-5 border-gray-300 text-indigo-500 cursor-pointer focus:ring-indigo-500"},null,8,Ss),[[w,e(t).type]]),s("span",Ts,v(r),1)]))),128)),s("label",Ds,[i(s("input",{"onUpdate:modelValue":o[8]||(o[8]=r=>e(t).type=r),value:"",type:"radio",class:"form-radio w-5 h-5 border-gray-300 text-indigo-500 cursor-pointer focus:ring-indigo-500"},null,512),[[w,e(t).type]]),zs])])])])),!d.user.is_admin&&e(t).type==""?(m(),c("div",Fs,[Rs,s("dd",Hs,[a(F,{class:"mt-1",modelValue:e(t).role_id,"onUpdate:modelValue":o[9]||(o[9]=r=>e(t).role_id=r),items:d.roles},null,8,["modelValue","items"])])])):f("",!0),d.user.is_admin?f("",!0):(m(),c("div",Ks,[Ls,s("dd",Ws,[s("div",Zs,[(m(!0),c(_,null,y(e(t).branches,r=>(m(),c("label",{key:r.id,class:"flex items-center mr-5"},[i(s("input",{"onUpdate:modelValue":p=>r.is_checked=p,type:"checkbox",class:"form-checkbox w-5 h-5 border-gray-300 text-indigo-500 cursor-pointer focus:ring-indigo-500"},null,8,qs),[[P,r.is_checked]]),s("span",Gs,v(r.name),1)]))),128))])])]))]),Is,s("div",Js,[Qs,s("dd",Xs,[s("div",Ys,[s("button",se,[a(e(Z),{class:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),u(" Update ")])])])])])],40,ts)])])])]),_:1})],64))}};export{Ue as default};
